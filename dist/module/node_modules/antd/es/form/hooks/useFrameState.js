import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import{useRef}from"c:\\node_modules\\react\\index.js";import raf from"/node_modules/rc-util/es/raf.js";export default function useFrameState(defaultValue){var _React$useState=React.useState(defaultValue),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1],frameRef=useRef(null),batchRef=useRef([]),destroyRef=useRef(!1);return React.useEffect(function(){return function(){destroyRef.current=!0,raf.cancel(frameRef.current)}},[]),[value,function setFrameValue(updater){destroyRef.current||(null===frameRef.current&&(batchRef.current=[],frameRef.current=raf(function(){frameRef.current=null,setValue(function(prevValue){var current=prevValue;return batchRef.current.forEach(function(func){current=func(current)}),current})})),batchRef.current.push(updater))}]}