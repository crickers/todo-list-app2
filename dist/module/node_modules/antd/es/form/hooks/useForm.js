import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import{useForm as useRcForm}from"/node_modules/rc-field-form.js";import scrollIntoView from"/node_modules/scroll-into-view-if-needed.js";import{toArray,getFieldId}from"/node_modules/antd/es/form/util.js";function toNamePathStr(name){var namePath=toArray(name);return namePath.join("_")}export default function useForm(form){var _useRcForm=useRcForm(),_useRcForm2=_slicedToArray(_useRcForm,1),rcForm=_useRcForm2[0],itemsRef=React.useRef({}),wrapForm=React.useMemo(function(){return form||_extends(_extends({},rcForm),{__INTERNAL__:{itemRef:function itemRef(name){return function(node){var namePathStr=toNamePathStr(name);node?itemsRef.current[namePathStr]=node:delete itemsRef.current[namePathStr]}}},scrollToField:function scrollToField(name){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},namePath=toArray(name),fieldId=getFieldId(namePath,wrapForm.__INTERNAL__.name),node=fieldId?document.getElementById(fieldId):null;node&&scrollIntoView(node,_extends({scrollMode:"if-needed",block:"nearest"},options))},getFieldInstance:function getFieldInstance(name){var namePathStr=toNamePathStr(name);return itemsRef.current[namePathStr]}})},[form,rcForm]);return[wrapForm]}