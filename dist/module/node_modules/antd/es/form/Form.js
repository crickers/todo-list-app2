import"/node_modules/core-js/modules/es.array.index-of.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _typeof from"/node_modules/@babel/runtime/helpers/esm/typeof.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};import React from"c:\\node_modules\\react\\index.js";import{useMemo}from"c:\\node_modules\\react\\index.js";import classNames from"/node_modules/classnames.js";import FieldForm,{List}from"/node_modules/rc-field-form.js";import{ConfigContext}from"/node_modules/antd/es/config-provider.js";import{FormContext}from"/node_modules/antd/es/form/context.js";import useForm from"/node_modules/antd/es/form/hooks/useForm.js";import SizeContext,{SizeContextProvider}from"/node_modules/antd/es/config-provider/SizeContext.js";var InternalForm=function InternalForm(props,ref){var _classNames,contextSize=React.useContext(SizeContext),_React$useContext=React.useContext(ConfigContext),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,contextForm=_React$useContext.form,customizePrefixCls=props.prefixCls,_props$className=props.className,className=void 0===_props$className?"":_props$className,_props$size=props.size,size=void 0===_props$size?contextSize:_props$size,form=props.form,colon=props.colon,labelAlign=props.labelAlign,labelCol=props.labelCol,wrapperCol=props.wrapperCol,hideRequiredMark=props.hideRequiredMark,_props$layout=props.layout,layout=void 0===_props$layout?"horizontal":_props$layout,scrollToFirstError=props.scrollToFirstError,requiredMark=props.requiredMark,onFinishFailed=props.onFinishFailed,name=props.name,restFormProps=__rest(props,["prefixCls","className","size","form","colon","labelAlign","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),mergedRequiredMark=useMemo(function(){return void 0===requiredMark?contextForm&&void 0!==contextForm.requiredMark?contextForm.requiredMark:!hideRequiredMark:requiredMark},[hideRequiredMark,requiredMark,contextForm]),prefixCls=getPrefixCls("form",customizePrefixCls),formClassName=classNames(prefixCls,(_classNames={},_defineProperty(_classNames,"".concat(prefixCls,"-").concat(layout),!0),_defineProperty(_classNames,"".concat(prefixCls,"-hide-required-mark"),!1===mergedRequiredMark),_defineProperty(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_defineProperty(_classNames,"".concat(prefixCls,"-").concat(size),size),_classNames),className),_useForm=useForm(form),_useForm2=_slicedToArray(_useForm,1),wrapForm=_useForm2[0],__INTERNAL__=wrapForm.__INTERNAL__;__INTERNAL__.name=name;var formContextValue=useMemo(function(){return{name:name,labelAlign:labelAlign,labelCol:labelCol,wrapperCol:wrapperCol,vertical:"vertical"===layout,colon:colon,requiredMark:mergedRequiredMark,itemRef:__INTERNAL__.itemRef}},[name,labelAlign,labelCol,wrapperCol,layout,colon,mergedRequiredMark]);return React.useImperativeHandle(ref,function(){return wrapForm}),React.createElement(SizeContextProvider,{size:size},React.createElement(FormContext.Provider,{value:formContextValue},React.createElement(FieldForm,_extends({id:name},restFormProps,{name:name,onFinishFailed:function onInternalFinishFailed(errorInfo){onFinishFailed&&onFinishFailed(errorInfo);var defaultScrollToFirstError={block:"nearest"};scrollToFirstError&&errorInfo.errorFields.length&&("object"===_typeof(scrollToFirstError)&&(defaultScrollToFirstError=scrollToFirstError),wrapForm.scrollToField(errorInfo.errorFields[0].name,defaultScrollToFirstError))},form:wrapForm,className:formClassName}))))},Form=React.forwardRef(InternalForm);export{useForm,List};export default Form;