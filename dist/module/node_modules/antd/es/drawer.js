import"/node_modules/core-js/modules/es.array.index-of.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _classCallCheck from"/node_modules/@babel/runtime/helpers/esm/classCallCheck.js";import _createClass from"/node_modules/@babel/runtime/helpers/esm/createClass.js";import _assertThisInitialized from"/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js";import _inherits from"/node_modules/@babel/runtime/helpers/esm/inherits.js";import _createSuper from"/node_modules/@babel/runtime/helpers/esm/createSuper.js";var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};import React from"c:\\node_modules\\react\\index.js";import RcDrawer from"/node_modules/rc-drawer.js";import getScrollBarSize from"/node_modules/rc-util/es/getScrollBarSize.js";import CloseOutlined from"/node_modules/@ant-design/icons/es/icons/CloseOutlined.js";import classNames from"/node_modules/classnames.js";import omit from"/node_modules/rc-util/es/omit.js";import{ConfigContext}from"/node_modules/antd/es/config-provider.js";import{tuple}from"/node_modules/antd/es/_util/type.js";var DrawerContext=React.createContext(null),PlacementTypes=tuple("top","right","bottom","left"),defaultPushState={distance:180},Drawer=function(_React$Component){function Drawer(){var _this;return _classCallCheck(this,Drawer),_this=_super.apply(this,arguments),_this.state={push:!1},_this.push=function(){_this.props.push&&_this.setState({push:!0})},_this.pull=function(){_this.props.push&&_this.setState({push:!1})},_this.onDestroyTransitionEnd=function(){var isDestroyOnClose=_this.getDestroyOnClose();isDestroyOnClose&&(_this.props.visible||(_this.destroyClose=!0,_this.forceUpdate()))},_this.getDestroyOnClose=function(){return _this.props.destroyOnClose&&!_this.props.visible},_this.getPushDistance=function(){var distance,push=_this.props.push;return distance="boolean"==typeof push?push?defaultPushState.distance:0:push.distance,parseFloat((distance||0)+"")},_this.getPushTransform=function(placement){var distance=_this.getPushDistance();return"left"===placement||"right"===placement?"translateX(".concat("left"===placement?distance:-distance,"px)"):"top"===placement||"bottom"===placement?"translateY(".concat("top"===placement?distance:-distance,"px)"):void 0},_this.getRcDrawerStyle=function(){var _this$props=_this.props,zIndex=_this$props.zIndex,placement=_this$props.placement,mask=_this$props.mask,style=_this$props.style,push=_this.state.push,offsetStyle=mask?{}:_this.getOffsetStyle();return _extends(_extends({zIndex:zIndex,transform:push?_this.getPushTransform(placement):void 0},offsetStyle),style)},_this.renderBody=function(){var _this$props2=_this.props,bodyStyle=_this$props2.bodyStyle,drawerStyle=_this$props2.drawerStyle,prefixCls=_this$props2.prefixCls,visible=_this$props2.visible;if(_this.destroyClose&&!visible)return null;_this.destroyClose=!1;var containerStyle={},isDestroyOnClose=_this.getDestroyOnClose();return isDestroyOnClose&&(containerStyle.opacity=0,containerStyle.transition="opacity .3s"),React.createElement("div",{className:"".concat(prefixCls,"-wrapper-body"),style:_extends(_extends({},containerStyle),drawerStyle),onTransitionEnd:_this.onDestroyTransitionEnd},_this.renderHeader(),React.createElement("div",{className:"".concat(prefixCls,"-body"),style:bodyStyle},_this.props.children),_this.renderFooter())},_this.renderProvider=function(value){_this.parentDrawer=value;var _a=_this.props,prefixCls=_a.prefixCls,placement=_a.placement,className=_a.className,mask=_a.mask,direction=_a.direction,visible=_a.visible,rest=__rest(_a,["prefixCls","placement","className","mask","direction","visible"]),drawerClassName=classNames(_defineProperty({"no-mask":!mask},"".concat(prefixCls,"-rtl"),"rtl"===direction),className),offsetStyle=mask?_this.getOffsetStyle():{};return React.createElement(DrawerContext.Provider,{value:_assertThisInitialized(_this)},React.createElement(RcDrawer,_extends({handler:!1},omit(rest,["zIndex","closable","closeIcon","destroyOnClose","drawerStyle","headerStyle","bodyStyle","footerStyle","footer","title","push","width","height"]),offsetStyle,{prefixCls:prefixCls,open:visible,showMask:mask,placement:placement,style:_this.getRcDrawerStyle(),className:drawerClassName}),_this.renderBody()))},_this}_inherits(Drawer,_React$Component);var _super=_createSuper(Drawer);return _createClass(Drawer,[{key:"componentDidMount",value:function componentDidMount(){var visible=this.props.visible;visible&&this.parentDrawer&&this.parentDrawer.push()}},{key:"componentDidUpdate",value:function componentDidUpdate(preProps){var visible=this.props.visible;preProps.visible!==visible&&this.parentDrawer&&(visible?this.parentDrawer.push():this.parentDrawer.pull())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.parentDrawer&&(this.parentDrawer.pull(),this.parentDrawer=null)}},{key:"getOffsetStyle",value:function getOffsetStyle(){var _this$props3=this.props,placement=_this$props3.placement,width=_this$props3.width,height=_this$props3.height,visible=_this$props3.visible,mask=_this$props3.mask;if(!visible&&!mask)return{};var offsetStyle={};return"left"===placement||"right"===placement?offsetStyle.width=width:offsetStyle.height=height,offsetStyle}},{key:"renderHeader",value:function renderHeader(){var _this$props4=this.props,title=_this$props4.title,prefixCls=_this$props4.prefixCls,closable=_this$props4.closable,headerStyle=_this$props4.headerStyle;if(!title&&!closable)return null;var headerClassName=title?"".concat(prefixCls,"-header"):"".concat(prefixCls,"-header-no-title");return React.createElement("div",{className:headerClassName,style:headerStyle},title&&React.createElement("div",{className:"".concat(prefixCls,"-title")},title),closable&&this.renderCloseIcon())}},{key:"renderFooter",value:function renderFooter(){var _this$props5=this.props,footer=_this$props5.footer,footerStyle=_this$props5.footerStyle,prefixCls=_this$props5.prefixCls;if(!footer)return null;var footerClassName="".concat(prefixCls,"-footer");return React.createElement("div",{className:footerClassName,style:footerStyle},footer)}},{key:"renderCloseIcon",value:function renderCloseIcon(){var _this$props6=this.props,closable=_this$props6.closable,_this$props6$closeIco=_this$props6.closeIcon,closeIcon=void 0===_this$props6$closeIco?React.createElement(CloseOutlined,null):_this$props6$closeIco,prefixCls=_this$props6.prefixCls,onClose=_this$props6.onClose;return closable&&React.createElement("button",{type:"button",onClick:onClose,"aria-label":"Close",className:"".concat(prefixCls,"-close"),style:{"--scroll-bar":"".concat(getScrollBarSize(),"px")}},closeIcon)}},{key:"render",value:function render(){return React.createElement(DrawerContext.Consumer,null,this.renderProvider)}}]),Drawer}(React.Component);Drawer.defaultProps={width:256,height:256,closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:defaultPushState};var DrawerWrapper=function DrawerWrapper(props){var customizePrefixCls=props.prefixCls,customizeGetContainer=props.getContainer,_React$useContext=React.useContext(ConfigContext),getPopupContainer=_React$useContext.getPopupContainer,getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,prefixCls=getPrefixCls("drawer",customizePrefixCls),getContainer=customizeGetContainer===void 0&&getPopupContainer?function(){return getPopupContainer(document.body)}:customizeGetContainer;return React.createElement(Drawer,_extends({},props,{prefixCls:prefixCls,getContainer:getContainer,direction:direction}))};DrawerWrapper.displayName="DrawerWrapper";export default DrawerWrapper;