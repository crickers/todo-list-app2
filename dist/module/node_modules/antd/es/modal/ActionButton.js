import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import Button from"/node_modules/antd/es/button.js";import{convertLegacyProps}from"/node_modules/antd/es/button/button.js";var ActionButton=function ActionButton(props){var clickedRef=React.useRef(!1),ref=React.useRef(),_React$useState=React.useState(!1),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];React.useEffect(function(){var timeoutId;if(props.autoFocus){var $this=ref.current;timeoutId=setTimeout(function(){return $this.focus()})}return function(){timeoutId&&clearTimeout(timeoutId)}},[]);var handlePromiseOnOk=function handlePromiseOnOk(returnValueOfOnOk){var closeModal=props.closeModal;returnValueOfOnOk&&returnValueOfOnOk.then&&(setLoading(!0),returnValueOfOnOk.then(function(){closeModal.apply(void 0,arguments)},function(e){console.error(e),setLoading(!1),clickedRef.current=!1}))},type=props.type,children=props.children,prefixCls=props.prefixCls,buttonProps=props.buttonProps;return React.createElement(Button,_extends({},convertLegacyProps(type),{onClick:function onClick(){var actionFn=props.actionFn,closeModal=props.closeModal;if(!clickedRef.current){if(clickedRef.current=!0,!actionFn)return void closeModal();var returnValueOfOnOk;if(actionFn.length)returnValueOfOnOk=actionFn(closeModal),clickedRef.current=!1;else if(returnValueOfOnOk=actionFn(),!returnValueOfOnOk)return void closeModal();handlePromiseOnOk(returnValueOfOnOk)}},loading:loading,prefixCls:prefixCls},buttonProps,{ref:ref}),children)};export default ActionButton;