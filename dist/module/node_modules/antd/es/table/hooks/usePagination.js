import"/node_modules/core-js/modules/es.array.index-of.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import _typeof from"/node_modules/@babel/runtime/helpers/esm/typeof.js";var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};import{useState}from"c:\\node_modules\\react\\index.js";export var DEFAULT_PAGE_SIZE=10;export function getPaginationParam(pagination,mergedPagination){var param={current:mergedPagination.current,pageSize:mergedPagination.pageSize},paginationObj=pagination&&"object"===_typeof(pagination)?pagination:{};return Object.keys(paginationObj).forEach(function(pageProp){var value=mergedPagination[pageProp];"function"!=typeof value&&(param[pageProp]=value)}),param}function extendsObject(){for(var result={},_len=arguments.length,list=Array(_len),_key=0;_key<_len;_key++)list[_key]=arguments[_key];return list.forEach(function(obj){obj&&Object.keys(obj).forEach(function(key){var val=obj[key];void 0!==val&&(result[key]=val)})}),result}export default function usePagination(total,pagination,onChange){var _a=pagination&&"object"===_typeof(pagination)?pagination:{},_a$total=_a.total,paginationTotal=void 0===_a$total?0:_a$total,paginationObj=__rest(_a,["total"]),_useState=useState(function(){return{current:"defaultCurrent"in paginationObj?paginationObj.defaultCurrent:1,pageSize:"defaultPageSize"in paginationObj?paginationObj.defaultPageSize:DEFAULT_PAGE_SIZE}}),_useState2=_slicedToArray(_useState,2),innerPagination=_useState2[0],setInnerPagination=_useState2[1],mergedPagination=extendsObject(innerPagination,paginationObj,{total:0<paginationTotal?paginationTotal:total});if(!paginationTotal){var maxPage=Math.ceil(total/mergedPagination.pageSize);maxPage<mergedPagination.current&&(mergedPagination.current=1)}var refreshPagination=function refreshPagination(){var current=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,pageSize=1<arguments.length?arguments[1]:void 0;setInnerPagination({current:current,pageSize:pageSize||mergedPagination.pageSize})};return!1===pagination?[{},function(){}]:[_extends(_extends({},mergedPagination),{onChange:function onInternalChange(current,pageSize){var paginationPageSize=null===mergedPagination||void 0===mergedPagination?void 0:mergedPagination.pageSize;pageSize&&pageSize!==paginationPageSize&&(current=1),pagination&&pagination.onChange&&pagination.onChange(current,pageSize),refreshPagination(current,pageSize),onChange(current,pageSize||paginationPageSize)}}),refreshPagination]}