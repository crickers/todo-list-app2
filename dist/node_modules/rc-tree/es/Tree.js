import"/node_modules/core-js/modules/es.array.index-of.js";import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/es.promise.js";import"/node_modules/core-js/modules/es.string.includes.js";import"/node_modules/core-js/modules/esnext.set.add-all.js";import"/node_modules/core-js/modules/esnext.set.delete-all.js";import"/node_modules/core-js/modules/esnext.set.difference.js";import"/node_modules/core-js/modules/esnext.set.every.js";import"/node_modules/core-js/modules/esnext.set.filter.js";import"/node_modules/core-js/modules/esnext.set.find.js";import"/node_modules/core-js/modules/esnext.set.intersection.js";import"/node_modules/core-js/modules/esnext.set.is-disjoint-from.js";import"/node_modules/core-js/modules/esnext.set.is-subset-of.js";import"/node_modules/core-js/modules/esnext.set.is-superset-of.js";import"/node_modules/core-js/modules/esnext.set.join.js";import"/node_modules/core-js/modules/esnext.set.map.js";import"/node_modules/core-js/modules/esnext.set.reduce.js";import"/node_modules/core-js/modules/esnext.set.some.js";import"/node_modules/core-js/modules/esnext.set.symmetric-difference.js";import"/node_modules/core-js/modules/esnext.set.union.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _objectSpread from"/node_modules/@babel/runtime/helpers/esm/objectSpread2.js";import _toConsumableArray from"/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js";import _classCallCheck from"/node_modules/@babel/runtime/helpers/esm/classCallCheck.js";import _createClass from"/node_modules/@babel/runtime/helpers/esm/createClass.js";import _assertThisInitialized from"/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js";import _inherits from"/node_modules/@babel/runtime/helpers/esm/inherits.js";import _createSuper from"/node_modules/@babel/runtime/helpers/esm/createSuper.js";import React from"c:\\node_modules\\react\\index.js";import KeyCode from"/node_modules/rc-util/es/KeyCode.js";import warning from"/node_modules/rc-util/es/warning.js";import classNames from"/node_modules/classnames.js";import{TreeContext}from"/node_modules/rc-tree/es/contextTypes.js";import{getDataAndAria,getDragChildrenKeys,parseCheckedKeys,conductExpandParent,calcSelectedKeys,calcDropPosition,arrAdd,arrDel,posToArr}from"/node_modules/rc-tree/es/util.js";import{flattenTreeData,convertTreeToData,convertDataToEntities,warningWithoutKey,convertNodePropsToEventData,getTreeNodeProps}from"/node_modules/rc-tree/es/utils/treeUtil.js";import NodeList,{MOTION_KEY,MotionEntity}from"/node_modules/rc-tree/es/NodeList.js";import TreeNode from"/node_modules/rc-tree/es/TreeNode.js";import{conductCheck}from"/node_modules/rc-tree/es/utils/conductUtil.js";import DropIndicator from"/node_modules/rc-tree/es/DropIndicator.js";var Tree=function(_React$Component){function Tree(){var _this;return _classCallCheck(this,Tree),_this=_super.apply(this,arguments),_this.destroyed=!1,_this.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},_this.dragStartMousePosition=null,_this.listRef=React.createRef(),_this.onNodeDragStart=function(event,node){var _this$state=_this.state,expandedKeys=_this$state.expandedKeys,keyEntities=_this$state.keyEntities,onDragStart=_this.props.onDragStart,eventKey=node.props.eventKey;_this.dragNode=node,_this.dragStartMousePosition={x:event.clientX,y:event.clientY};var newExpandedKeys=arrDel(expandedKeys,eventKey);_this.setState({dragging:!0,dragChildrenKeys:getDragChildrenKeys(eventKey,keyEntities),indent:_this.listRef.current.getIndentWidth()}),_this.setExpandedKeys(newExpandedKeys),window.addEventListener("dragend",_this.onWindowDragEnd),onDragStart&&onDragStart({event:event,node:convertNodePropsToEventData(node.props)})},_this.onNodeDragEnter=function(event,node){var _this$state2=_this.state,expandedKeys=_this$state2.expandedKeys,keyEntities=_this$state2.keyEntities,dragChildrenKeys=_this$state2.dragChildrenKeys,flattenNodes=_this$state2.flattenNodes,indent=_this$state2.indent,_this$props=_this.props,onDragEnter=_this$props.onDragEnter,onExpand=_this$props.onExpand,allowDrop=_this$props.allowDrop,direction=_this$props.direction,pos=node.props.pos,_assertThisInitialize=_assertThisInitialized(_this),dragNode=_assertThisInitialize.dragNode,_calcDropPosition=calcDropPosition(event,node,indent,_this.dragStartMousePosition,allowDrop,flattenNodes,keyEntities,expandedKeys,direction),dropPosition=_calcDropPosition.dropPosition,dropLevelOffset=_calcDropPosition.dropLevelOffset,dropTargetKey=_calcDropPosition.dropTargetKey,dropContainerKey=_calcDropPosition.dropContainerKey,dropTargetPos=_calcDropPosition.dropTargetPos,dropAllowed=_calcDropPosition.dropAllowed,dragOverNodeKey=_calcDropPosition.dragOverNodeKey;return dragNode&&-1===dragChildrenKeys.indexOf(dropTargetKey)&&dropAllowed?(_this.delayedDragEnterLogic||(_this.delayedDragEnterLogic={}),Object.keys(_this.delayedDragEnterLogic).forEach(function(key){clearTimeout(_this.delayedDragEnterLogic[key])}),dragNode.props.eventKey!==node.props.eventKey&&(event.persist(),_this.delayedDragEnterLogic[pos]=window.setTimeout(function(){if(_this.state.dragging){var newExpandedKeys=_toConsumableArray(expandedKeys),entity=keyEntities[node.props.eventKey];entity&&(entity.children||[]).length&&(newExpandedKeys=arrAdd(expandedKeys,node.props.eventKey)),"expandedKeys"in _this.props||_this.setExpandedKeys(newExpandedKeys),onExpand&&onExpand(newExpandedKeys,{node:convertNodePropsToEventData(node.props),expanded:!0,nativeEvent:event.nativeEvent})}},800)),dragNode.props.eventKey===dropTargetKey&&0===dropLevelOffset?void _this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1}):void(_this.setState({dragOverNodeKey:dragOverNodeKey,dropPosition:dropPosition,dropLevelOffset:dropLevelOffset,dropTargetKey:dropTargetKey,dropContainerKey:dropContainerKey,dropTargetPos:dropTargetPos,dropAllowed:dropAllowed}),onDragEnter&&onDragEnter({event:event,node:convertNodePropsToEventData(node.props),expandedKeys:expandedKeys}))):void _this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},_this.onNodeDragOver=function(event,node){var _this$state3=_this.state,dragChildrenKeys=_this$state3.dragChildrenKeys,flattenNodes=_this$state3.flattenNodes,keyEntities=_this$state3.keyEntities,expandedKeys=_this$state3.expandedKeys,indent=_this$state3.indent,_this$props2=_this.props,onDragOver=_this$props2.onDragOver,allowDrop=_this$props2.allowDrop,direction=_this$props2.direction,_assertThisInitialize2=_assertThisInitialized(_this),dragNode=_assertThisInitialize2.dragNode,_calcDropPosition2=calcDropPosition(event,node,indent,_this.dragStartMousePosition,allowDrop,flattenNodes,keyEntities,expandedKeys,direction),dropPosition=_calcDropPosition2.dropPosition,dropLevelOffset=_calcDropPosition2.dropLevelOffset,dropTargetKey=_calcDropPosition2.dropTargetKey,dropContainerKey=_calcDropPosition2.dropContainerKey,dropAllowed=_calcDropPosition2.dropAllowed,dropTargetPos=_calcDropPosition2.dropTargetPos,dragOverNodeKey=_calcDropPosition2.dragOverNodeKey;dragNode&&-1===dragChildrenKeys.indexOf(dropTargetKey)&&dropAllowed&&(dragNode.props.eventKey===dropTargetKey&&0===dropLevelOffset?(null!==_this.state.dropPosition||null!==_this.state.dropLevelOffset||null!==_this.state.dropTargetKey||null!==_this.state.dropContainerKey||null!==_this.state.dropTargetPos||!1!==_this.state.dropAllowed||null!==_this.state.dragOverNodeKey)&&_this.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):(dropPosition!==_this.state.dropPosition||dropLevelOffset!==_this.state.dropLevelOffset||dropTargetKey!==_this.state.dropTargetKey||dropContainerKey!==_this.state.dropContainerKey||dropTargetPos!==_this.state.dropTargetPos||dropAllowed!==_this.state.dropAllowed||dragOverNodeKey!==_this.state.dragOverNodeKey)&&_this.setState({dropPosition:dropPosition,dropLevelOffset:dropLevelOffset,dropTargetKey:dropTargetKey,dropContainerKey:dropContainerKey,dropTargetPos:dropTargetPos,dropAllowed:dropAllowed,dragOverNodeKey:dragOverNodeKey}),onDragOver&&onDragOver({event:event,node:convertNodePropsToEventData(node.props)}))},_this.onNodeDragLeave=function(event,node){var onDragLeave=_this.props.onDragLeave;onDragLeave&&onDragLeave({event:event,node:convertNodePropsToEventData(node.props)})},_this.onWindowDragEnd=function(event){_this.onNodeDragEnd(event,null,!0),window.removeEventListener("dragend",_this.onWindowDragEnd)},_this.onNodeDragEnd=function(event,node){var outsideTree=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],onDragEnd=_this.props.onDragEnd;_this.setState({dragOverNodeKey:null}),_this.cleanDragState(),onDragEnd&&!outsideTree&&onDragEnd({event:event,node:convertNodePropsToEventData(node.props)}),_this.dragNode=null},_this.onNodeDrop=function(event,node){var _this$getActiveItem,outsideTree=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],_this$state4=_this.state,dragChildrenKeys=_this$state4.dragChildrenKeys,dropPosition=_this$state4.dropPosition,dropTargetKey=_this$state4.dropTargetKey,dropTargetPos=_this$state4.dropTargetPos,dropAllowed=_this$state4.dropAllowed;if(dropAllowed){var onDrop=_this.props.onDrop;if(_this.setState({dragOverNodeKey:null}),_this.cleanDragState(),null!==dropTargetKey){var abstractDropNodeProps=_objectSpread(_objectSpread({},getTreeNodeProps(dropTargetKey,_this.getTreeNodeRequiredProps())),{},{active:(null===(_this$getActiveItem=_this.getActiveItem())||void 0===_this$getActiveItem?void 0:_this$getActiveItem.data.key)===dropTargetKey,data:_this.state.keyEntities[dropTargetKey].node}),dropToChild=-1!==dragChildrenKeys.indexOf(dropTargetKey);warning(!dropToChild,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var posArr=posToArr(dropTargetPos),dropResult={event:event,node:convertNodePropsToEventData(abstractDropNodeProps),dragNode:_this.dragNode?convertNodePropsToEventData(_this.dragNode.props):null,dragNodesKeys:[_this.dragNode.props.eventKey].concat(dragChildrenKeys),dropToGap:0!==dropPosition,dropPosition:dropPosition+ +posArr[posArr.length-1]};onDrop&&!outsideTree&&onDrop(dropResult),_this.dragNode=null}}},_this.cleanDragState=function(){var dragging=_this.state.dragging;dragging&&_this.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),_this.dragStartMousePosition=null},_this.onNodeClick=function(e,treeNode){var onClick=_this.props.onClick;onClick&&onClick(e,treeNode)},_this.onNodeDoubleClick=function(e,treeNode){var onDoubleClick=_this.props.onDoubleClick;onDoubleClick&&onDoubleClick(e,treeNode)},_this.onNodeSelect=function(e,treeNode){var selectedKeys=_this.state.selectedKeys,keyEntities=_this.state.keyEntities,_this$props3=_this.props,onSelect=_this$props3.onSelect,multiple=_this$props3.multiple,selected=treeNode.selected,key=treeNode.key,targetSelected=!selected;selectedKeys=targetSelected?multiple?arrAdd(selectedKeys,key):[key]:arrDel(selectedKeys,key);var selectedNodes=selectedKeys.map(function(selectedKey){var entity=keyEntities[selectedKey];return entity?entity.node:null}).filter(function(node){return node});_this.setUncontrolledState({selectedKeys:selectedKeys}),onSelect&&onSelect(selectedKeys,{event:"select",selected:targetSelected,node:treeNode,selectedNodes:selectedNodes,nativeEvent:e.nativeEvent})},_this.onNodeCheck=function(e,treeNode,checked){var checkedObj,_this$state5=_this.state,keyEntities=_this$state5.keyEntities,oriCheckedKeys=_this$state5.checkedKeys,oriHalfCheckedKeys=_this$state5.halfCheckedKeys,_this$props4=_this.props,checkStrictly=_this$props4.checkStrictly,onCheck=_this$props4.onCheck,key=treeNode.key,eventObj={event:"check",node:treeNode,checked:checked,nativeEvent:e.nativeEvent};if(checkStrictly){var checkedKeys=checked?arrAdd(oriCheckedKeys,key):arrDel(oriCheckedKeys,key),halfCheckedKeys=arrDel(oriHalfCheckedKeys,key);checkedObj={checked:checkedKeys,halfChecked:halfCheckedKeys},eventObj.checkedNodes=checkedKeys.map(function(checkedKey){return keyEntities[checkedKey]}).filter(function(entity){return entity}).map(function(entity){return entity.node}),_this.setUncontrolledState({checkedKeys:checkedKeys})}else{var _conductCheck=conductCheck([].concat(_toConsumableArray(oriCheckedKeys),[key]),!0,keyEntities),_checkedKeys=_conductCheck.checkedKeys,_halfCheckedKeys=_conductCheck.halfCheckedKeys;if(!checked){var keySet=new Set(_checkedKeys);keySet.delete(key);var _conductCheck2=conductCheck(Array.from(keySet),{checked:!1,halfCheckedKeys:_halfCheckedKeys},keyEntities);_checkedKeys=_conductCheck2.checkedKeys,_halfCheckedKeys=_conductCheck2.halfCheckedKeys}checkedObj=_checkedKeys,eventObj.checkedNodes=[],eventObj.checkedNodesPositions=[],eventObj.halfCheckedKeys=_halfCheckedKeys,_checkedKeys.forEach(function(checkedKey){var entity=keyEntities[checkedKey];if(entity){var node=entity.node,pos=entity.pos;eventObj.checkedNodes.push(node),eventObj.checkedNodesPositions.push({node:node,pos:pos})}}),_this.setUncontrolledState({checkedKeys:_checkedKeys},!1,{halfCheckedKeys:_halfCheckedKeys})}onCheck&&onCheck(checkedObj,eventObj)},_this.onNodeLoad=function(treeNode){return new Promise(function(resolve){_this.setState(function(_ref){var _ref$loadedKeys=_ref.loadedKeys,loadedKeys=void 0===_ref$loadedKeys?[]:_ref$loadedKeys,_ref$loadingKeys=_ref.loadingKeys,loadingKeys=void 0===_ref$loadingKeys?[]:_ref$loadingKeys,_this$props5=_this.props,loadData=_this$props5.loadData,onLoad=_this$props5.onLoad,key=treeNode.key;if(!loadData||-1!==loadedKeys.indexOf(key)||-1!==loadingKeys.indexOf(key))return{};var promise=loadData(treeNode);return promise.then(function(){var _this$state6=_this.state,currentLoadedKeys=_this$state6.loadedKeys,currentLoadingKeys=_this$state6.loadingKeys,newLoadedKeys=arrAdd(currentLoadedKeys,key),newLoadingKeys=arrDel(currentLoadingKeys,key);onLoad&&onLoad(newLoadedKeys,{event:"load",node:treeNode}),_this.setUncontrolledState({loadedKeys:newLoadedKeys}),_this.setState({loadingKeys:newLoadingKeys}),resolve()}),{loadingKeys:arrAdd(loadingKeys,key)}})})},_this.onNodeMouseEnter=function(event,node){var onMouseEnter=_this.props.onMouseEnter;onMouseEnter&&onMouseEnter({event:event,node:node})},_this.onNodeMouseLeave=function(event,node){var onMouseLeave=_this.props.onMouseLeave;onMouseLeave&&onMouseLeave({event:event,node:node})},_this.onNodeContextMenu=function(event,node){var onRightClick=_this.props.onRightClick;onRightClick&&(event.preventDefault(),onRightClick({event:event,node:node}))},_this.onFocus=function(){var onFocus=_this.props.onFocus;_this.setState({focused:!0}),onFocus&&onFocus.apply(void 0,arguments)},_this.onBlur=function(){var onBlur=_this.props.onBlur;_this.setState({focused:!1}),_this.onActiveChange(null),onBlur&&onBlur.apply(void 0,arguments)},_this.getTreeNodeRequiredProps=function(){var _this$state7=_this.state,expandedKeys=_this$state7.expandedKeys,selectedKeys=_this$state7.selectedKeys,loadedKeys=_this$state7.loadedKeys,loadingKeys=_this$state7.loadingKeys,checkedKeys=_this$state7.checkedKeys,halfCheckedKeys=_this$state7.halfCheckedKeys,dragOverNodeKey=_this$state7.dragOverNodeKey,dropPosition=_this$state7.dropPosition,keyEntities=_this$state7.keyEntities;return{expandedKeys:expandedKeys||[],selectedKeys:selectedKeys||[],loadedKeys:loadedKeys||[],loadingKeys:loadingKeys||[],checkedKeys:checkedKeys||[],halfCheckedKeys:halfCheckedKeys||[],dragOverNodeKey:dragOverNodeKey,dropPosition:dropPosition,keyEntities:keyEntities}},_this.setExpandedKeys=function(expandedKeys){var treeData=_this.state.treeData,flattenNodes=flattenTreeData(treeData,expandedKeys);_this.setUncontrolledState({expandedKeys:expandedKeys,flattenNodes:flattenNodes},!0)},_this.onNodeExpand=function(e,treeNode){var expandedKeys=_this.state.expandedKeys,listChanging=_this.state.listChanging,_this$props6=_this.props,onExpand=_this$props6.onExpand,loadData=_this$props6.loadData,key=treeNode.key,expanded=treeNode.expanded;if(!listChanging){var index=expandedKeys.indexOf(key),targetExpanded=!expanded;if(warning(expanded&&-1!==index||!expanded&&-1===index,"Expand state not sync with index check"),expandedKeys=targetExpanded?arrAdd(expandedKeys,key):arrDel(expandedKeys,key),_this.setExpandedKeys(expandedKeys),onExpand&&onExpand(expandedKeys,{node:treeNode,expanded:targetExpanded,nativeEvent:e.nativeEvent}),targetExpanded&&loadData){var loadPromise=_this.onNodeLoad(treeNode);loadPromise&&loadPromise.then(function(){var newFlattenTreeData=flattenTreeData(_this.state.treeData,expandedKeys);_this.setUncontrolledState({flattenNodes:newFlattenTreeData})})}}},_this.onListChangeStart=function(){_this.setUncontrolledState({listChanging:!0})},_this.onListChangeEnd=function(){setTimeout(function(){_this.setUncontrolledState({listChanging:!1})})},_this.onActiveChange=function(newActiveKey){var activeKey=_this.state.activeKey,onActiveChange=_this.props.onActiveChange;activeKey===newActiveKey||(_this.setState({activeKey:newActiveKey}),null!==newActiveKey&&_this.scrollTo({key:newActiveKey}),onActiveChange&&onActiveChange(newActiveKey))},_this.getActiveItem=function(){var _this$state8=_this.state,activeKey=_this$state8.activeKey,flattenNodes=_this$state8.flattenNodes;return null===activeKey?null:flattenNodes.find(function(_ref2){var key=_ref2.data.key;return key===activeKey})||null},_this.offsetActiveKey=function(offset){var _this$state9=_this.state,flattenNodes=_this$state9.flattenNodes,activeKey=_this$state9.activeKey,index=flattenNodes.findIndex(function(_ref3){var key=_ref3.data.key;return key===activeKey});-1===index&&0>offset&&(index=flattenNodes.length),index=(index+offset+flattenNodes.length)%flattenNodes.length;var item=flattenNodes[index];if(item){var key=item.data.key;_this.onActiveChange(key)}else _this.onActiveChange(null)},_this.onKeyDown=function(event){var _this$state10=_this.state,activeKey=_this$state10.activeKey,expandedKeys=_this$state10.expandedKeys,checkedKeys=_this$state10.checkedKeys,_this$props7=_this.props,onKeyDown=_this$props7.onKeyDown,checkable=_this$props7.checkable,selectable=_this$props7.selectable;switch(event.which){case KeyCode.UP:{_this.offsetActiveKey(-1),event.preventDefault();break}case KeyCode.DOWN:{_this.offsetActiveKey(1),event.preventDefault();break}}var activeItem=_this.getActiveItem();if(activeItem&&activeItem.data){var treeNodeRequiredProps=_this.getTreeNodeRequiredProps(),expandable=!1===activeItem.data.isLeaf||!!(activeItem.data.children||[]).length,eventNode=convertNodePropsToEventData(_objectSpread(_objectSpread({},getTreeNodeProps(activeKey,treeNodeRequiredProps)),{},{data:activeItem.data,active:!0}));switch(event.which){case KeyCode.LEFT:{expandable&&expandedKeys.includes(activeKey)?_this.onNodeExpand({},eventNode):activeItem.parent&&_this.onActiveChange(activeItem.parent.data.key),event.preventDefault();break}case KeyCode.RIGHT:{expandable&&!expandedKeys.includes(activeKey)?_this.onNodeExpand({},eventNode):activeItem.children&&activeItem.children.length&&_this.onActiveChange(activeItem.children[0].data.key),event.preventDefault();break}case KeyCode.ENTER:case KeyCode.SPACE:{!checkable||eventNode.disabled||!1===eventNode.checkable||eventNode.disableCheckbox?!checkable&&selectable&&!eventNode.disabled&&!1!==eventNode.selectable&&_this.onNodeSelect({},eventNode):_this.onNodeCheck({},eventNode,!checkedKeys.includes(activeKey));break}}}onKeyDown&&onKeyDown(event)},_this.setUncontrolledState=function(state){var atomic=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],forceState=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!_this.destroyed){var needSync=!1,allPassed=!0,newState={};Object.keys(state).forEach(function(name){return name in _this.props?void(allPassed=!1):void(needSync=!0,newState[name]=state[name])}),needSync&&(!atomic||allPassed)&&_this.setState(_objectSpread(_objectSpread({},newState),forceState))}},_this.scrollTo=function(scroll){_this.listRef.current.scrollTo(scroll)},_this}_inherits(Tree,_React$Component);var _super=_createSuper(Tree);return _createClass(Tree,[{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function render(){var _classNames,_this$state11=this.state,focused=_this$state11.focused,flattenNodes=_this$state11.flattenNodes,keyEntities=_this$state11.keyEntities,dragging=_this$state11.dragging,activeKey=_this$state11.activeKey,dropLevelOffset=_this$state11.dropLevelOffset,dropContainerKey=_this$state11.dropContainerKey,dropTargetKey=_this$state11.dropTargetKey,dropPosition=_this$state11.dropPosition,dragOverNodeKey=_this$state11.dragOverNodeKey,indent=_this$state11.indent,_this$props8=this.props,prefixCls=_this$props8.prefixCls,className=_this$props8.className,style=_this$props8.style,showLine=_this$props8.showLine,focusable=_this$props8.focusable,_this$props8$tabIndex=_this$props8.tabIndex,tabIndex=void 0===_this$props8$tabIndex?0:_this$props8$tabIndex,selectable=_this$props8.selectable,showIcon=_this$props8.showIcon,icon=_this$props8.icon,switcherIcon=_this$props8.switcherIcon,draggable=_this$props8.draggable,checkable=_this$props8.checkable,checkStrictly=_this$props8.checkStrictly,disabled=_this$props8.disabled,motion=_this$props8.motion,loadData=_this$props8.loadData,filterTreeNode=_this$props8.filterTreeNode,height=_this$props8.height,itemHeight=_this$props8.itemHeight,virtual=_this$props8.virtual,titleRender=_this$props8.titleRender,dropIndicatorRender=_this$props8.dropIndicatorRender,onContextMenu=_this$props8.onContextMenu,direction=_this$props8.direction,domProps=getDataAndAria(this.props);return React.createElement(TreeContext.Provider,{value:{prefixCls:prefixCls,selectable:selectable,showIcon:showIcon,icon:icon,switcherIcon:switcherIcon,draggable:draggable,checkable:checkable,checkStrictly:checkStrictly,disabled:disabled,keyEntities:keyEntities,dropLevelOffset:dropLevelOffset,dropContainerKey:dropContainerKey,dropTargetKey:dropTargetKey,dropPosition:dropPosition,dragOverNodeKey:dragOverNodeKey,indent:indent,direction:direction,dropIndicatorRender:dropIndicatorRender,loadData:loadData,filterTreeNode:filterTreeNode,titleRender:titleRender,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},React.createElement("div",{className:classNames(prefixCls,className,(_classNames={},_defineProperty(_classNames,"".concat(prefixCls,"-show-line"),showLine),_defineProperty(_classNames,"".concat(prefixCls,"-focused"),focused),_defineProperty(_classNames,"".concat(prefixCls,"-active-focused"),null!==activeKey),_classNames))},React.createElement(NodeList,_extends({ref:this.listRef,prefixCls:prefixCls,style:style,data:flattenNodes,disabled:disabled,selectable:selectable,checkable:!!checkable,motion:motion,dragging:dragging,height:height,itemHeight:itemHeight,virtual:virtual,focusable:focusable,focused:focused,tabIndex:tabIndex,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:onContextMenu},this.getTreeNodeRequiredProps(),domProps))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,prevState){function needSync(name){return!prevProps&&name in props||prevProps&&prevProps[name]!==props[name]}var treeData,prevProps=prevState.prevProps,newState={prevProps:props};if(needSync("treeData")?treeData=props.treeData:needSync("children")&&(warning(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),treeData=convertTreeToData(props.children)),treeData){newState.treeData=treeData;var entitiesMap=convertDataToEntities(treeData);newState.keyEntities=_objectSpread(_defineProperty({},MOTION_KEY,MotionEntity),entitiesMap.keyEntities)}var keyEntities=newState.keyEntities||prevState.keyEntities;if(needSync("expandedKeys")||prevProps&&needSync("autoExpandParent"))newState.expandedKeys=props.autoExpandParent||!prevProps&&props.defaultExpandParent?conductExpandParent(props.expandedKeys,keyEntities):props.expandedKeys;else if(!prevProps&&props.defaultExpandAll){var cloneKeyEntities=_objectSpread({},keyEntities);delete cloneKeyEntities[MOTION_KEY],newState.expandedKeys=Object.keys(cloneKeyEntities).map(function(key){return cloneKeyEntities[key].key})}else!prevProps&&props.defaultExpandedKeys&&(newState.expandedKeys=props.autoExpandParent||props.defaultExpandParent?conductExpandParent(props.defaultExpandedKeys,keyEntities):props.defaultExpandedKeys);if(newState.expandedKeys||delete newState.expandedKeys,treeData||newState.expandedKeys){var flattenNodes=flattenTreeData(treeData||prevState.treeData,newState.expandedKeys||prevState.expandedKeys);newState.flattenNodes=flattenNodes}if(props.selectable&&(needSync("selectedKeys")?newState.selectedKeys=calcSelectedKeys(props.selectedKeys,props):!prevProps&&props.defaultSelectedKeys&&(newState.selectedKeys=calcSelectedKeys(props.defaultSelectedKeys,props))),props.checkable){var checkedKeyEntity;if(needSync("checkedKeys")?checkedKeyEntity=parseCheckedKeys(props.checkedKeys)||{}:!prevProps&&props.defaultCheckedKeys?checkedKeyEntity=parseCheckedKeys(props.defaultCheckedKeys)||{}:treeData&&(checkedKeyEntity=parseCheckedKeys(props.checkedKeys)||{checkedKeys:prevState.checkedKeys,halfCheckedKeys:prevState.halfCheckedKeys}),checkedKeyEntity){var _checkedKeyEntity=checkedKeyEntity,_checkedKeyEntity$che=_checkedKeyEntity.checkedKeys,checkedKeys=void 0===_checkedKeyEntity$che?[]:_checkedKeyEntity$che,_checkedKeyEntity$hal=_checkedKeyEntity.halfCheckedKeys,halfCheckedKeys=void 0===_checkedKeyEntity$hal?[]:_checkedKeyEntity$hal;if(!props.checkStrictly){var conductKeys=conductCheck(checkedKeys,!0,keyEntities);checkedKeys=conductKeys.checkedKeys,halfCheckedKeys=conductKeys.halfCheckedKeys}newState.checkedKeys=checkedKeys,newState.halfCheckedKeys=halfCheckedKeys}}return needSync("loadedKeys")&&(newState.loadedKeys=props.loadedKeys),newState}}]),Tree}(React.Component);Tree.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:DropIndicator,allowDrop:function allowDrop(){return!0}},Tree.TreeNode=TreeNode;export default Tree;