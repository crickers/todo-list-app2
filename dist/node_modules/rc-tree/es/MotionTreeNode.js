import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import _objectWithoutProperties from"/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js";import React from"c:\\node_modules\\react\\index.js";import{useEffect}from"c:\\node_modules\\react\\index.js";import classNames from"/node_modules/classnames.js";import CSSMotion from"/node_modules/rc-motion.js";import TreeNode from"/node_modules/rc-tree/es/TreeNode.js";import{getTreeNodeProps}from"/node_modules/rc-tree/es/utils/treeUtil.js";import{TreeContext}from"/node_modules/rc-tree/es/contextTypes.js";var MotionTreeNode=function MotionTreeNode(_ref,ref){var className=_ref.className,style=_ref.style,motion=_ref.motion,motionNodes=_ref.motionNodes,motionType=_ref.motionType,onOriginMotionStart=_ref.onMotionStart,onOriginMotionEnd=_ref.onMotionEnd,active=_ref.active,treeNodeRequiredProps=_ref.treeNodeRequiredProps,props=_objectWithoutProperties(_ref,["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"]),_React$useState=React.useState(!0),_React$useState2=_slicedToArray(_React$useState,2),visible=_React$useState2[0],setVisible=_React$useState2[1],_React$useContext=React.useContext(TreeContext),prefixCls=_React$useContext.prefixCls,motionedRef=React.useRef(!1),onMotionEnd=function onMotionEnd(){motionedRef.current||onOriginMotionEnd(),motionedRef.current=!0};return useEffect(function(){motionNodes&&"hide"===motionType&&visible&&setVisible(!1)},[motionNodes]),useEffect(function(){return motionNodes&&onOriginMotionStart(),function(){motionNodes&&onMotionEnd()}},[]),motionNodes?React.createElement(CSSMotion,_extends({ref:ref,visible:visible},motion,{motionAppear:"show"===motionType,onAppearEnd:onMotionEnd,onLeaveEnd:onMotionEnd}),function(_ref2,motionRef){var motionClassName=_ref2.className,motionStyle=_ref2.style;return React.createElement("div",{ref:motionRef,className:classNames("".concat(prefixCls,"-treenode-motion"),motionClassName),style:motionStyle},motionNodes.map(function(treeNode){var _treeNode$data=treeNode.data,key=_treeNode$data.key,restProps=_objectWithoutProperties(_treeNode$data,["key"]),isStart=treeNode.isStart,isEnd=treeNode.isEnd;delete restProps.children;var treeNodeProps=getTreeNodeProps(key,treeNodeRequiredProps);return React.createElement(TreeNode,_extends({},restProps,treeNodeProps,{active:active,data:treeNode.data,key:key,isStart:isStart,isEnd:isEnd}))}))}):React.createElement(TreeNode,_extends({domRef:ref,className:className,style:style},props,{active:active}))};MotionTreeNode.displayName="MotionTreeNode";var RefMotionTreeNode=React.forwardRef(MotionTreeNode);export default RefMotionTreeNode;