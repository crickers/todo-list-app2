import _classCallCheck from"/node_modules/@babel/runtime/helpers/esm/classCallCheck.js";import _createClass from"/node_modules/@babel/runtime/helpers/esm/createClass.js";import _inherits from"/node_modules/@babel/runtime/helpers/esm/inherits.js";import _createSuper from"/node_modules/@babel/runtime/helpers/esm/createSuper.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _typeof from"/node_modules/@babel/runtime/helpers/esm/typeof.js";import _objectSpread from"/node_modules/@babel/runtime/helpers/esm/objectSpread2.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import{useRef,useEffect,useState}from"c:\\node_modules\\react\\index.js";import classNames from"/node_modules/classnames.js";import warning from"/node_modules/rc-util/es/warning.js";import useMergedState from"/node_modules/rc-util/es/hooks/useMergedState.js";import PickerTrigger from"/node_modules/rc-picker/es/PickerTrigger.js";import PickerPanel from"/node_modules/rc-picker/es/PickerPanel.js";import usePickerInput from"/node_modules/rc-picker/es/hooks/usePickerInput.js";import getDataOrAriaProps,{toArray,getValue,updateValues}from"/node_modules/rc-picker/es/utils/miscUtil.js";import{getDefaultFormat,getInputSize,elementsContains}from"/node_modules/rc-picker/es/utils/uiUtil.js";import PanelContext from"/node_modules/rc-picker/es/PanelContext.js";import{isEqual,getClosingViewDate,isSameDate,isSameWeek,isSameQuarter,formatValue,parseValue}from"/node_modules/rc-picker/es/utils/dateUtil.js";import useValueTexts from"/node_modules/rc-picker/es/hooks/useValueTexts.js";import useTextValueMapping from"/node_modules/rc-picker/es/hooks/useTextValueMapping.js";import RangeContext from"/node_modules/rc-picker/es/RangeContext.js";import useRangeDisabled from"/node_modules/rc-picker/es/hooks/useRangeDisabled.js";import getExtraFooter from"/node_modules/rc-picker/es/utils/getExtraFooter.js";import getRanges from"/node_modules/rc-picker/es/utils/getRanges.js";import useRangeViewDates from"/node_modules/rc-picker/es/hooks/useRangeViewDates.js";import useHoverValue from"/node_modules/rc-picker/es/hooks/useHoverValue.js";function reorderValues(values,generateConfig){return values&&values[0]&&values[1]&&generateConfig.isAfter(values[0],values[1])?[values[1],values[0]]:values}function canValueTrigger(value,index,disabled,allowEmpty){return!!value||!!(allowEmpty&&allowEmpty[index])||!!disabled[(index+1)%2]}function InnerRangePicker(props){function _triggerOpen(newOpen,index){if(newOpen)clearTimeout(triggerRef.current),openRecordsRef.current[index]=!0,setMergedActivePickerIndex(index),triggerInnerOpen(newOpen),mergedOpen||setViewDate(null,index);else if(mergedActivePickerIndex===index){triggerInnerOpen(newOpen);var openRecords=openRecordsRef.current;triggerRef.current=setTimeout(function(){openRecords===openRecordsRef.current&&(openRecordsRef.current={})})}}function triggerOpenAndFocus(index){_triggerOpen(!0,index),setTimeout(function(){var inputRef=[startInputRef,endInputRef][index];inputRef.current&&inputRef.current.focus()},0)}function triggerChange(newValue,sourceIndex){var values=newValue,startValue=getValue(values,0),endValue=getValue(values,1);startValue&&endValue&&generateConfig.isAfter(startValue,endValue)&&(("week"!==picker||isSameWeek(generateConfig,locale.locale,startValue,endValue))&&("quarter"!==picker||isSameQuarter(generateConfig,startValue,endValue))&&("week"===picker||"quarter"===picker||"time"===picker||isSameDate(generateConfig,startValue,endValue))?("time"!==picker||!1!==order)&&(values=reorderValues(values,generateConfig)):(0===sourceIndex?(values=[startValue,null],endValue=null):(startValue=null,values=[null,endValue]),openRecordsRef.current=_defineProperty({},sourceIndex,!0))),setSelectedValue(values);var startStr=values&&values[0]?formatValue(values[0],{generateConfig:generateConfig,locale:locale,format:formatList[0]}):"",endStr=values&&values[1]?formatValue(values[1],{generateConfig:generateConfig,locale:locale,format:formatList[0]}):"";if(onCalendarChange){var info={range:0===sourceIndex?"start":"end"};onCalendarChange(values,[startStr,endStr],info)}var canStartValueTrigger=canValueTrigger(startValue,0,mergedDisabled,allowEmpty),canEndValueTrigger=canValueTrigger(endValue,1,mergedDisabled,allowEmpty),canTrigger=null===values||canStartValueTrigger&&canEndValueTrigger;canTrigger&&(setInnerValue(values),onChange&&(!isEqual(generateConfig,getValue(mergedValue,0),startValue)||!isEqual(generateConfig,getValue(mergedValue,1),endValue))&&onChange(values,[startStr,endStr]));var nextOpenIndex=null;0!==sourceIndex||mergedDisabled[1]?1===sourceIndex&&!mergedDisabled[0]&&(nextOpenIndex=0):nextOpenIndex=1,null===nextOpenIndex||nextOpenIndex===mergedActivePickerIndex||openRecordsRef.current[nextOpenIndex]&&getValue(values,nextOpenIndex)||!getValue(values,sourceIndex)?_triggerOpen(!1,sourceIndex):triggerOpenAndFocus(nextOpenIndex)}function renderPanel(){var panelPosition=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],panelProps=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},panelHoverRangedValue=null;mergedOpen&&hoverRangedValue&&hoverRangedValue[0]&&hoverRangedValue[1]&&generateConfig.isAfter(hoverRangedValue[1],hoverRangedValue[0])&&(panelHoverRangedValue=hoverRangedValue);var panelShowTime=showTime;if(showTime&&"object"===_typeof(showTime)&&showTime.defaultValue){var timeDefaultValues=showTime.defaultValue;panelShowTime=_objectSpread(_objectSpread({},showTime),{},{defaultValue:getValue(timeDefaultValues,mergedActivePickerIndex)||void 0})}var panelDateRender=null;return dateRender&&(panelDateRender=function panelDateRender(date,today){return dateRender(date,today,{range:mergedActivePickerIndex?"end":"start"})}),React.createElement(RangeContext.Provider,{value:{inRange:!0,panelPosition:panelPosition,rangedValue:rangeHoverValue||selectedValue,hoverRangedValue:panelHoverRangedValue}},React.createElement(PickerPanel,_extends({},props,panelProps,{dateRender:panelDateRender,showTime:panelShowTime,mode:mergedModes[mergedActivePickerIndex],generateConfig:generateConfig,style:void 0,direction:direction,disabledDate:0===mergedActivePickerIndex?disabledStartDate:disabledEndDate,disabledTime:function disabledTime(date){return!!_disabledTime&&_disabledTime(date,0===mergedActivePickerIndex?"start":"end")},className:classNames(_defineProperty({},"".concat(prefixCls,"-panel-focused"),0===mergedActivePickerIndex?!startTyping:!endTyping)),value:getValue(selectedValue,mergedActivePickerIndex),locale:locale,tabIndex:-1,onPanelChange:function onPanelChange(date,newMode){0===mergedActivePickerIndex&&onStartLeave(!0),1===mergedActivePickerIndex&&onEndLeave(!0),triggerModesChange(updateValues(mergedModes,newMode,mergedActivePickerIndex),updateValues(selectedValue,date,mergedActivePickerIndex));var viewDate=date;"right"===panelPosition&&mergedModes[mergedActivePickerIndex]===newMode&&(viewDate=getClosingViewDate(viewDate,newMode,generateConfig,-1)),setViewDate(viewDate,mergedActivePickerIndex)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:0===mergedActivePickerIndex?getValue(selectedValue,1):getValue(selectedValue,0),defaultPickerValue:void 0})))}function renderPanels(){var panels,extraNode=getExtraFooter(prefixCls,mergedModes[mergedActivePickerIndex],renderExtraFooter),rangesNode=getRanges({prefixCls:prefixCls,components:components,needConfirmButton:needConfirmButton,okDisabled:!getValue(selectedValue,mergedActivePickerIndex)||disabledDate&&disabledDate(selectedValue[mergedActivePickerIndex]),locale:locale,rangeList:rangeList,onOk:function onOk(){getValue(selectedValue,mergedActivePickerIndex)&&(triggerChange(selectedValue,mergedActivePickerIndex),_onOk&&_onOk(selectedValue))}});if("time"!==picker&&!showTime){var viewDate=getViewDate(mergedActivePickerIndex),nextViewDate=getClosingViewDate(viewDate,picker,generateConfig),currentMode=mergedModes[mergedActivePickerIndex],showDoublePanel=currentMode===picker,leftPanel=renderPanel(!!showDoublePanel&&"left",{pickerValue:viewDate,onPickerValueChange:function onPickerValueChange(newViewDate){setViewDate(newViewDate,mergedActivePickerIndex)}}),rightPanel=renderPanel("right",{pickerValue:nextViewDate,onPickerValueChange:function onPickerValueChange(newViewDate){setViewDate(getClosingViewDate(newViewDate,picker,generateConfig,-1),mergedActivePickerIndex)}});panels="rtl"===direction?React.createElement(React.Fragment,null,rightPanel,showDoublePanel&&leftPanel):React.createElement(React.Fragment,null,leftPanel,showDoublePanel&&rightPanel)}else panels=renderPanel();var mergedNodes=React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefixCls,"-panels")},panels),(extraNode||rangesNode)&&React.createElement("div",{className:"".concat(prefixCls,"-footer")},extraNode,rangesNode));return panelRender&&(mergedNodes=panelRender(mergedNodes)),React.createElement("div",{className:"".concat(prefixCls,"-panel-container"),style:{marginLeft:panelLeft},ref:panelDivRef,onMouseDown:function onMouseDown(e){e.preventDefault()}},mergedNodes)}var _classNames2,_classNames3,_classNames4,_props$prefixCls=props.prefixCls,prefixCls=void 0===_props$prefixCls?"rc-picker":_props$prefixCls,id=props.id,style=props.style,className=props.className,popupStyle=props.popupStyle,dropdownClassName=props.dropdownClassName,transitionName=props.transitionName,dropdownAlign=props.dropdownAlign,getPopupContainer=props.getPopupContainer,generateConfig=props.generateConfig,locale=props.locale,placeholder=props.placeholder,autoFocus=props.autoFocus,disabled=props.disabled,format=props.format,_props$picker=props.picker,picker=void 0===_props$picker?"date":_props$picker,showTime=props.showTime,use12Hours=props.use12Hours,_props$separator=props.separator,separator=void 0===_props$separator?"~":_props$separator,value=props.value,defaultValue=props.defaultValue,defaultPickerValue=props.defaultPickerValue,open=props.open,defaultOpen=props.defaultOpen,disabledDate=props.disabledDate,_disabledTime=props.disabledTime,dateRender=props.dateRender,panelRender=props.panelRender,ranges=props.ranges,allowEmpty=props.allowEmpty,allowClear=props.allowClear,suffixIcon=props.suffixIcon,clearIcon=props.clearIcon,pickerRef=props.pickerRef,inputReadOnly=props.inputReadOnly,mode=props.mode,renderExtraFooter=props.renderExtraFooter,onChange=props.onChange,onOpenChange=props.onOpenChange,onPanelChange=props.onPanelChange,onCalendarChange=props.onCalendarChange,_onFocus=props.onFocus,onBlur=props.onBlur,_onOk=props.onOk,_onKeyDown=props.onKeyDown,components=props.components,order=props.order,direction=props.direction,activePickerIndex=props.activePickerIndex,_props$autoComplete=props.autoComplete,autoComplete=void 0===_props$autoComplete?"off":_props$autoComplete,needConfirmButton="date"===picker&&!!showTime||"time"===picker,openRecordsRef=useRef({}),containerRef=useRef(null),panelDivRef=useRef(null),startInputDivRef=useRef(null),endInputDivRef=useRef(null),separatorRef=useRef(null),startInputRef=useRef(null),endInputRef=useRef(null),formatList=toArray(getDefaultFormat(format,picker,showTime,use12Hours)),_useMergedState=useMergedState(0,{value:activePickerIndex}),_useMergedState2=_slicedToArray(_useMergedState,2),mergedActivePickerIndex=_useMergedState2[0],setMergedActivePickerIndex=_useMergedState2[1],operationRef=useRef(null),mergedDisabled=React.useMemo(function(){return Array.isArray(disabled)?disabled:[disabled||!1,disabled||!1]},[disabled]),_useMergedState3=useMergedState(null,{value:value,defaultValue:defaultValue,postState:function postState(values){return"time"!==picker||order?reorderValues(values,generateConfig):values}}),_useMergedState4=_slicedToArray(_useMergedState3,2),mergedValue=_useMergedState4[0],setInnerValue=_useMergedState4[1],_useRangeViewDates=useRangeViewDates({values:mergedValue,picker:picker,defaultDates:defaultPickerValue,generateConfig:generateConfig}),_useRangeViewDates2=_slicedToArray(_useRangeViewDates,2),getViewDate=_useRangeViewDates2[0],setViewDate=_useRangeViewDates2[1],_useMergedState5=useMergedState(mergedValue,{postState:function postState(values){var postValues=values;if(mergedDisabled[0]&&mergedDisabled[1])return postValues;for(var i=0;2>i;i+=1)!mergedDisabled[i]||getValue(postValues,i)||getValue(allowEmpty,i)||(postValues=updateValues(postValues,generateConfig.getNow(),i));return postValues}}),_useMergedState6=_slicedToArray(_useMergedState5,2),selectedValue=_useMergedState6[0],setSelectedValue=_useMergedState6[1],_useMergedState7=useMergedState([picker,picker],{value:mode}),_useMergedState8=_slicedToArray(_useMergedState7,2),mergedModes=_useMergedState8[0],setInnerModes=_useMergedState8[1];useEffect(function(){setInnerModes([picker,picker])},[picker]);var triggerModesChange=function triggerModesChange(modes,values){setInnerModes(modes),onPanelChange&&onPanelChange(values,modes)},_useRangeDisabled=useRangeDisabled({picker:picker,selectedValue:selectedValue,locale:locale,disabled:mergedDisabled,disabledDate:disabledDate,generateConfig:generateConfig},openRecordsRef.current[1],openRecordsRef.current[0]),_useRangeDisabled2=_slicedToArray(_useRangeDisabled,2),disabledStartDate=_useRangeDisabled2[0],disabledEndDate=_useRangeDisabled2[1],_useMergedState9=useMergedState(!1,{value:open,defaultValue:defaultOpen,postState:function postState(postOpen){return!mergedDisabled[mergedActivePickerIndex]&&postOpen},onChange:function onChange(newOpen){onOpenChange&&onOpenChange(newOpen),!newOpen&&operationRef.current&&operationRef.current.onClose&&operationRef.current.onClose()}}),_useMergedState10=_slicedToArray(_useMergedState9,2),mergedOpen=_useMergedState10[0],triggerInnerOpen=_useMergedState10[1],_useState=useState(0),_useState2=_slicedToArray(_useState,2),popupMinWidth=_useState2[0],setPopupMinWidth=_useState2[1];useEffect(function(){!mergedOpen&&containerRef.current&&setPopupMinWidth(containerRef.current.offsetWidth)},[mergedOpen]);var triggerRef=React.useRef(),forwardKeyDown=function forwardKeyDown(e){return mergedOpen&&operationRef.current&&operationRef.current.onKeyDown?operationRef.current.onKeyDown(e):(warning(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},sharedTextHooksProps={formatList:formatList,generateConfig:generateConfig,locale:locale},_useValueTexts=useValueTexts(getValue(selectedValue,0),sharedTextHooksProps),_useValueTexts2=_slicedToArray(_useValueTexts,2),startValueTexts=_useValueTexts2[0],firstStartValueText=_useValueTexts2[1],_useValueTexts3=useValueTexts(getValue(selectedValue,1),sharedTextHooksProps),_useValueTexts4=_slicedToArray(_useValueTexts3,2),endValueTexts=_useValueTexts4[0],firstEndValueText=_useValueTexts4[1],_onTextChange=function onTextChange(newText,index){var inputDate=parseValue(newText,{locale:locale,formatList:formatList,generateConfig:generateConfig}),disabledFunc=0===index?disabledStartDate:disabledEndDate;inputDate&&!disabledFunc(inputDate)&&(setSelectedValue(updateValues(selectedValue,inputDate,index)),setViewDate(inputDate,index))},_useTextValueMapping=useTextValueMapping({valueTexts:startValueTexts,onTextChange:function onTextChange(newText){return _onTextChange(newText,0)}}),_useTextValueMapping2=_slicedToArray(_useTextValueMapping,3),startText=_useTextValueMapping2[0],triggerStartTextChange=_useTextValueMapping2[1],resetStartText=_useTextValueMapping2[2],_useTextValueMapping3=useTextValueMapping({valueTexts:endValueTexts,onTextChange:function onTextChange(newText){return _onTextChange(newText,1)}}),_useTextValueMapping4=_slicedToArray(_useTextValueMapping3,3),endText=_useTextValueMapping4[0],triggerEndTextChange=_useTextValueMapping4[1],resetEndText=_useTextValueMapping4[2],_useState3=useState(null),_useState4=_slicedToArray(_useState3,2),rangeHoverValue=_useState4[0],setRangeHoverValue=_useState4[1],_useState5=useState(null),_useState6=_slicedToArray(_useState5,2),hoverRangedValue=_useState6[0],setHoverRangedValue=_useState6[1],_useHoverValue=useHoverValue(startText,{formatList:formatList,generateConfig:generateConfig,locale:locale}),_useHoverValue2=_slicedToArray(_useHoverValue,3),startHoverValue=_useHoverValue2[0],onStartEnter=_useHoverValue2[1],onStartLeave=_useHoverValue2[2],_useHoverValue3=useHoverValue(endText,{formatList:formatList,generateConfig:generateConfig,locale:locale}),_useHoverValue4=_slicedToArray(_useHoverValue3,3),endHoverValue=_useHoverValue4[0],onEndEnter=_useHoverValue4[1],onEndLeave=_useHoverValue4[2],getSharedInputHookProps=function getSharedInputHookProps(index,resetText){return{blurToCancel:needConfirmButton,forwardKeyDown:forwardKeyDown,onBlur:onBlur,isClickOutside:function isClickOutside(target){return!elementsContains([panelDivRef.current,startInputDivRef.current,endInputDivRef.current],target)},onFocus:function onFocus(e){setMergedActivePickerIndex(index),_onFocus&&_onFocus(e)},triggerOpen:function triggerOpen(newOpen){_triggerOpen(newOpen,index)},onSubmit:function onSubmit(){triggerChange(selectedValue,index),resetText()},onCancel:function onCancel(){_triggerOpen(!1,index),setSelectedValue(mergedValue),resetText()}}},_usePickerInput=usePickerInput(_objectSpread(_objectSpread({},getSharedInputHookProps(0,resetStartText)),{},{open:mergedOpen&&0===mergedActivePickerIndex,value:startText,onKeyDown:function onKeyDown(e,preventDefault){null===_onKeyDown||void 0===_onKeyDown?void 0:_onKeyDown(e,preventDefault)}})),_usePickerInput2=_slicedToArray(_usePickerInput,2),startInputProps=_usePickerInput2[0],_usePickerInput2$=_usePickerInput2[1],startFocused=_usePickerInput2$.focused,startTyping=_usePickerInput2$.typing,_usePickerInput3=usePickerInput(_objectSpread(_objectSpread({},getSharedInputHookProps(1,resetEndText)),{},{open:mergedOpen&&1===mergedActivePickerIndex,value:endText,onKeyDown:function onKeyDown(e,preventDefault){null===_onKeyDown||void 0===_onKeyDown?void 0:_onKeyDown(e,preventDefault)}})),_usePickerInput4=_slicedToArray(_usePickerInput3,2),endInputProps=_usePickerInput4[0],_usePickerInput4$=_usePickerInput4[1],endFocused=_usePickerInput4$.focused,endTyping=_usePickerInput4$.typing,startStr=mergedValue&&mergedValue[0]?formatValue(mergedValue[0],{locale:locale,format:"YYYYMMDDHHmmss",generateConfig:generateConfig}):"",endStr=mergedValue&&mergedValue[1]?formatValue(mergedValue[1],{locale:locale,format:"YYYYMMDDHHmmss",generateConfig:generateConfig}):"";useEffect(function(){mergedOpen||(setSelectedValue(mergedValue),startValueTexts.length&&""!==startValueTexts[0]?firstStartValueText!==startText&&resetStartText():triggerStartTextChange(""),endValueTexts.length&&""!==endValueTexts[0]?firstEndValueText!==endText&&resetEndText():triggerEndTextChange(""))},[mergedOpen,startValueTexts,endValueTexts]),useEffect(function(){setSelectedValue(mergedValue)},[startStr,endStr]),pickerRef&&(pickerRef.current={focus:function focus(){startInputRef.current&&startInputRef.current.focus()},blur:function blur(){startInputRef.current&&startInputRef.current.blur(),endInputRef.current&&endInputRef.current.blur()}});var rangeLabels=Object.keys(ranges||{}),rangeList=rangeLabels.map(function(label){var range=ranges[label],newValues="function"==typeof range?range():range;return{label:label,onClick:function onClick(){triggerChange(newValues,null),_triggerOpen(!1,mergedActivePickerIndex)},onMouseEnter:function onMouseEnter(){setRangeHoverValue(newValues)},onMouseLeave:function onMouseLeave(){setRangeHoverValue(null)}}}),arrowLeft=0,panelLeft=0;mergedActivePickerIndex&&startInputDivRef.current&&separatorRef.current&&panelDivRef.current&&(arrowLeft=startInputDivRef.current.offsetWidth+separatorRef.current.offsetWidth,panelDivRef.current.offsetWidth&&arrowLeft>panelDivRef.current.offsetWidth&&(panelLeft=arrowLeft));var suffixNode,arrowPositionStyle="rtl"===direction?{right:arrowLeft}:{left:arrowLeft},rangePanel=React.createElement("div",{className:classNames("".concat(prefixCls,"-range-wrapper"),"".concat(prefixCls,"-").concat(picker,"-range-wrapper")),style:{minWidth:popupMinWidth}},React.createElement("div",{className:"".concat(prefixCls,"-range-arrow"),style:arrowPositionStyle}),renderPanels());suffixIcon&&(suffixNode=React.createElement("span",{className:"".concat(prefixCls,"-suffix")},suffixIcon));var clearNode;allowClear&&(getValue(mergedValue,0)&&!mergedDisabled[0]||getValue(mergedValue,1)&&!mergedDisabled[1])&&(clearNode=React.createElement("span",{onMouseDown:function onMouseDown(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function onMouseUp(e){e.preventDefault(),e.stopPropagation();var values=mergedValue;mergedDisabled[0]||(values=updateValues(values,null,0)),mergedDisabled[1]||(values=updateValues(values,null,1)),triggerChange(values,null),_triggerOpen(!1,mergedActivePickerIndex)},className:"".concat(prefixCls,"-clear")},clearIcon||React.createElement("span",{className:"".concat(prefixCls,"-clear-btn")})));var inputSharedProps={size:getInputSize(picker,formatList[0],generateConfig)},activeBarLeft=0,activeBarWidth=0;startInputDivRef.current&&endInputDivRef.current&&separatorRef.current&&(0===mergedActivePickerIndex?activeBarWidth=startInputDivRef.current.offsetWidth:(activeBarLeft=arrowLeft,activeBarWidth=endInputDivRef.current.offsetWidth));var activeBarPositionStyle="rtl"===direction?{right:activeBarLeft}:{left:activeBarLeft};return React.createElement(PanelContext.Provider,{value:{operationRef:operationRef,hideHeader:"time"===picker,onDateMouseEnter:function onDateMouseEnter(date){setHoverRangedValue(updateValues(selectedValue,date,mergedActivePickerIndex)),0===mergedActivePickerIndex?onStartEnter(date):onEndEnter(date)},onDateMouseLeave:function onDateMouseLeave(){setHoverRangedValue(updateValues(selectedValue,null,mergedActivePickerIndex)),0===mergedActivePickerIndex?onStartLeave():onEndLeave()},hideRanges:!0,onSelect:function onContextSelect(date,type){var values=updateValues(selectedValue,date,mergedActivePickerIndex);"submit"!==type&&("key"===type||needConfirmButton)?setSelectedValue(values):(triggerChange(values,mergedActivePickerIndex),0===mergedActivePickerIndex?onStartLeave():onEndLeave())},open:mergedOpen}},React.createElement(PickerTrigger,{visible:mergedOpen,popupElement:rangePanel,popupStyle:popupStyle,prefixCls:prefixCls,dropdownClassName:dropdownClassName,dropdownAlign:dropdownAlign,getPopupContainer:getPopupContainer,transitionName:transitionName,range:!0,direction:direction},React.createElement("div",_extends({ref:containerRef,className:classNames(prefixCls,"".concat(prefixCls,"-range"),className,(_classNames2={},_defineProperty(_classNames2,"".concat(prefixCls,"-disabled"),mergedDisabled[0]&&mergedDisabled[1]),_defineProperty(_classNames2,"".concat(prefixCls,"-focused"),0===mergedActivePickerIndex?startFocused:endFocused),_defineProperty(_classNames2,"".concat(prefixCls,"-rtl"),"rtl"===direction),_classNames2)),style:style,onClick:function onPickerClick(e){mergedOpen||startInputRef.current.contains(e.target)||endInputRef.current.contains(e.target)||(mergedDisabled[0]?!mergedDisabled[1]&&triggerOpenAndFocus(1):triggerOpenAndFocus(0))},onMouseDown:function onPickerMouseDown(e){mergedOpen&&(startFocused||endFocused)&&!startInputRef.current.contains(e.target)&&!endInputRef.current.contains(e.target)&&e.preventDefault()}},getDataOrAriaProps(props)),React.createElement("div",{className:classNames("".concat(prefixCls,"-input"),(_classNames3={},_defineProperty(_classNames3,"".concat(prefixCls,"-input-active"),0===mergedActivePickerIndex),_defineProperty(_classNames3,"".concat(prefixCls,"-input-placeholder"),!!startHoverValue),_classNames3)),ref:startInputDivRef},React.createElement("input",_extends({id:id,disabled:mergedDisabled[0],readOnly:inputReadOnly||"function"==typeof formatList[0]||!startTyping,value:startHoverValue||startText,onChange:function onChange(e){triggerStartTextChange(e.target.value)},autoFocus:autoFocus,placeholder:getValue(placeholder,0)||"",ref:startInputRef},startInputProps,inputSharedProps,{autoComplete:autoComplete}))),React.createElement("div",{className:"".concat(prefixCls,"-range-separator"),ref:separatorRef},separator),React.createElement("div",{className:classNames("".concat(prefixCls,"-input"),(_classNames4={},_defineProperty(_classNames4,"".concat(prefixCls,"-input-active"),1===mergedActivePickerIndex),_defineProperty(_classNames4,"".concat(prefixCls,"-input-placeholder"),!!endHoverValue),_classNames4)),ref:endInputDivRef},React.createElement("input",_extends({disabled:mergedDisabled[1],readOnly:inputReadOnly||"function"==typeof formatList[0]||!endTyping,value:endHoverValue||endText,onChange:function onChange(e){triggerEndTextChange(e.target.value)},placeholder:getValue(placeholder,1)||"",ref:endInputRef},endInputProps,inputSharedProps,{autoComplete:autoComplete}))),React.createElement("div",{className:"".concat(prefixCls,"-active-bar"),style:_objectSpread(_objectSpread({},activeBarPositionStyle),{},{width:activeBarWidth,position:"absolute"})}),suffixNode,clearNode)))}var RangePicker=function(_React$Component){function RangePicker(){var _this;return _classCallCheck(this,RangePicker),_this=_super.apply(this,arguments),_this.pickerRef=React.createRef(),_this.focus=function(){_this.pickerRef.current&&_this.pickerRef.current.focus()},_this.blur=function(){_this.pickerRef.current&&_this.pickerRef.current.blur()},_this}_inherits(RangePicker,_React$Component);var _super=_createSuper(RangePicker);return _createClass(RangePicker,[{key:"render",value:function render(){return React.createElement(InnerRangePicker,_extends({},this.props,{pickerRef:this.pickerRef}))}}]),RangePicker}(React.Component);export default RangePicker;