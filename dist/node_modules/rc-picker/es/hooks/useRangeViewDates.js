import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import{getValue,updateValues}from"/node_modules/rc-picker/es/utils/miscUtil.js";import{getClosingViewDate,isSameYear,isSameMonth,isSameDecade}from"/node_modules/rc-picker/es/utils/dateUtil.js";function getStartEndDistance(startDate,endDate,picker,generateConfig){function getDistance(compareFunc){return compareFunc(startDate,endDate)?"same":compareFunc(startNext,endDate)?"closing":"far"}var startNext=getClosingViewDate(startDate,picker,generateConfig,1);return"year"===picker?getDistance(function(start,end){return isSameDecade(generateConfig,start,end)}):"quarter"===picker||"month"===picker?getDistance(function(start,end){return isSameYear(generateConfig,start,end)}):getDistance(function(start,end){return isSameMonth(generateConfig,start,end)})}function getRangeViewDate(values,index,picker,generateConfig){var startDate=getValue(values,0),endDate=getValue(values,1);if(0===index)return startDate;if(startDate&&endDate){var distance=getStartEndDistance(startDate,endDate,picker,generateConfig);return"same"===distance?startDate:"closing"===distance?startDate:getClosingViewDate(endDate,picker,generateConfig,-1)}return startDate}export default function useRangeViewDates(_ref){var values=_ref.values,picker=_ref.picker,defaultDates=_ref.defaultDates,generateConfig=_ref.generateConfig,_React$useState=React.useState(function(){return[getValue(defaultDates,0),getValue(defaultDates,1)]}),_React$useState2=_slicedToArray(_React$useState,2),defaultViewDates=_React$useState2[0],setDefaultViewDates=_React$useState2[1],_React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),viewDates=_React$useState4[0],setInternalViewDates=_React$useState4[1],startDate=getValue(values,0),endDate=getValue(values,1);return[function getViewDate(index){return defaultViewDates[index]?defaultViewDates[index]:getValue(viewDates,index)||getRangeViewDate(values,index,picker,generateConfig)||startDate||endDate||generateConfig.getNow()},function setViewDate(viewDate,index){if(viewDate){var newViewDates=updateValues(viewDates,viewDate,index);setDefaultViewDates(updateValues(defaultViewDates,null,index)||[null,null]);var anotherIndex=(index+1)%2;getValue(values,anotherIndex)||(newViewDates=updateValues(newViewDates,viewDate,anotherIndex)),setInternalViewDates(newViewDates)}else(startDate||endDate)&&setInternalViewDates(null)}]}