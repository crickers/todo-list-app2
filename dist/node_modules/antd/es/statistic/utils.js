import"/node_modules/core-js/modules/es.array.index-of.js";import"/node_modules/core-js/modules/es.array.reduce.js";import"/node_modules/core-js/modules/es.array.slice.js";import"/node_modules/core-js/modules/es.regexp.constructor.js";import"/node_modules/core-js/modules/es.regexp.to-string.js";import"/node_modules/core-js/modules/es.string.match.js";import"/node_modules/core-js/modules/es.string.replace.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import padStart from"/node_modules/lodash/padStart.js";var timeUnits=[["Y",365*(24*(60*(60*1e3)))],["M",30*(24*(60*(60*1e3)))],["D",24*(60*(60*1e3))],["H",60*(60*1e3)],["m",60*1e3],["s",1e3],["S",1]];export function formatTimeStr(duration,format){var leftDuration=duration,escapeRegex=/\[[^\]]*]/g,keepList=(format.match(escapeRegex)||[]).map(function(str){return str.slice(1,-1)}),templateText=format.replace(escapeRegex,"[]"),replacedText=timeUnits.reduce(function(current,_ref){var _ref2=_slicedToArray(_ref,2),name=_ref2[0],unit=_ref2[1];if(-1!==current.indexOf(name)){var value=Math.floor(leftDuration/unit);return leftDuration-=value*unit,current.replace(new RegExp("".concat(name,"+"),"g"),function(match){var len=match.length;return padStart(value.toString(),len,"0")})}return current},templateText),index=0;return replacedText.replace(escapeRegex,function(){var match=keepList[index];return index+=1,match})}export function formatCountdown(value,config){var _config$format=config.format,format=void 0===_config$format?"":_config$format,target=new Date(value).getTime(),current=Date.now(),diff=Math.max(target-current,0);return formatTimeStr(diff,format)}