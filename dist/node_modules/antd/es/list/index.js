import"/node_modules/core-js/modules/es.array.index-of.js";import"/node_modules/core-js/modules/es.array.splice.js";import"/node_modules/core-js/modules/es.string.split.js";import _toConsumableArray from"/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import _typeof from"/node_modules/@babel/runtime/helpers/esm/typeof.js";var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};import React from"c:\\node_modules\\react\\index.js";import classNames from"/node_modules/classnames.js";import Spin from"/node_modules/antd/es/spin.js";import useBreakpoint from"/node_modules/antd/es/grid/hooks/useBreakpoint.js";import{responsiveArray}from"/node_modules/antd/es/_util/responsiveObserve.js";import{ConfigContext}from"/node_modules/antd/es/config-provider.js";import Pagination from"/node_modules/antd/es/pagination.js";import{Row}from"/node_modules/antd/es/grid.js";import Item from"/node_modules/antd/es/list/Item.js";export var ListContext=React.createContext({});export var ListConsumer=ListContext.Consumer;function List(_a){var _classNames,_a$pagination=_a.pagination,pagination=void 0!==_a$pagination&&_a$pagination,customizePrefixCls=_a.prefixCls,_a$bordered=_a.bordered,bordered=void 0!==_a$bordered&&_a$bordered,_a$split=_a.split,split=!(void 0!==_a$split)||_a$split,className=_a.className,children=_a.children,itemLayout=_a.itemLayout,loadMore=_a.loadMore,grid=_a.grid,_a$dataSource=_a.dataSource,dataSource=void 0===_a$dataSource?[]:_a$dataSource,size=_a.size,header=_a.header,footer=_a.footer,_a$loading=_a.loading,loading=void 0!==_a$loading&&_a$loading,rowKey=_a.rowKey,renderItem=_a.renderItem,locale=_a.locale,rest=__rest(_a,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),paginationObj=pagination&&"object"===_typeof(pagination)?pagination:{},_React$useState=React.useState(paginationObj.defaultCurrent||1),_React$useState2=_slicedToArray(_React$useState,2),paginationCurrent=_React$useState2[0],setPaginationCurrent=_React$useState2[1],_React$useState3=React.useState(paginationObj.defaultPageSize||10),_React$useState4=_slicedToArray(_React$useState3,2),paginationSize=_React$useState4[0],setPaginationSize=_React$useState4[1],_React$useContext=React.useContext(ConfigContext),getPrefixCls=_React$useContext.getPrefixCls,renderEmpty=_React$useContext.renderEmpty,direction=_React$useContext.direction,keys={},triggerPaginationEvent=function triggerPaginationEvent(eventName){return function(page,pageSize){setPaginationCurrent(page),setPaginationSize(pageSize),pagination&&pagination[eventName]&&pagination[eventName](page,pageSize)}},onPaginationChange=triggerPaginationEvent("onChange"),onPaginationShowSizeChange=triggerPaginationEvent("onShowSizeChange"),renderInnerItem=function renderInnerItem(item,index){if(!renderItem)return null;var key;return key="function"==typeof rowKey?rowKey(item):"string"==typeof rowKey?item[rowKey]:item.key,key||(key="list-item-".concat(index)),keys[index]=key,renderItem(item,index)},renderEmptyFunc=function renderEmptyFunc(prefixCls,renderEmptyHandler){return React.createElement("div",{className:"".concat(prefixCls,"-empty-text")},locale&&locale.emptyText||renderEmptyHandler("List"))},prefixCls=getPrefixCls("list",customizePrefixCls),loadingProp=loading;"boolean"==typeof loadingProp&&(loadingProp={spinning:loadingProp});var isLoading=loadingProp&&loadingProp.spinning,sizeCls="";switch(size){case"large":sizeCls="lg";break;case"small":sizeCls="sm";break;default:}var classString=classNames(prefixCls,(_classNames={},_defineProperty(_classNames,"".concat(prefixCls,"-vertical"),"vertical"===itemLayout),_defineProperty(_classNames,"".concat(prefixCls,"-").concat(sizeCls),sizeCls),_defineProperty(_classNames,"".concat(prefixCls,"-split"),split),_defineProperty(_classNames,"".concat(prefixCls,"-bordered"),bordered),_defineProperty(_classNames,"".concat(prefixCls,"-loading"),isLoading),_defineProperty(_classNames,"".concat(prefixCls,"-grid"),grid),_defineProperty(_classNames,"".concat(prefixCls,"-something-after-last-item"),function isSomethingAfterLastItem(){return!!(loadMore||pagination||footer)}()),_defineProperty(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_classNames),className),paginationProps=_extends(_extends(_extends({},{current:1,total:0}),{total:dataSource.length,current:paginationCurrent,pageSize:paginationSize}),pagination||{}),largestPage=Math.ceil(paginationProps.total/paginationProps.pageSize);paginationProps.current>largestPage&&(paginationProps.current=largestPage);var paginationContent=pagination?React.createElement("div",{className:"".concat(prefixCls,"-pagination")},React.createElement(Pagination,_extends({},paginationProps,{onChange:onPaginationChange,onShowSizeChange:onPaginationShowSizeChange}))):null,splitDataSource=_toConsumableArray(dataSource);pagination&&dataSource.length>(paginationProps.current-1)*paginationProps.pageSize&&(splitDataSource=_toConsumableArray(dataSource).splice((paginationProps.current-1)*paginationProps.pageSize,paginationProps.pageSize));var screens=useBreakpoint(),currentBreakpoint=React.useMemo(function(){for(var breakpoint,i=0;i<responsiveArray.length;i+=1)if(breakpoint=responsiveArray[i],screens[breakpoint])return breakpoint},[screens]),colStyle=React.useMemo(function(){if(grid){var columnCount=currentBreakpoint&&grid[currentBreakpoint]?grid[currentBreakpoint]:grid.column;if(columnCount)return{width:"".concat(100/columnCount,"%"),maxWidth:"".concat(100/columnCount,"%")}}},[null===grid||void 0===grid?void 0:grid.column,currentBreakpoint]),childrenContent=isLoading&&React.createElement("div",{style:{minHeight:53}});if(0<splitDataSource.length){var items=splitDataSource.map(function(item,index){return renderInnerItem(item,index)}),childrenList=React.Children.map(items,function(child,index){return React.createElement("div",{key:keys[index],style:colStyle},child)});childrenContent=grid?React.createElement(Row,{gutter:grid.gutter},childrenList):React.createElement("ul",{className:"".concat(prefixCls,"-items")},items)}else children||isLoading||(childrenContent=renderEmptyFunc(prefixCls,renderEmpty));var paginationPosition=paginationProps.position||"bottom";return React.createElement(ListContext.Provider,{value:{grid:grid,itemLayout:itemLayout}},React.createElement("div",_extends({className:classString},rest),("top"===paginationPosition||"both"===paginationPosition)&&paginationContent,header&&React.createElement("div",{className:"".concat(prefixCls,"-header")},header),React.createElement(Spin,loadingProp,childrenContent,children),footer&&React.createElement("div",{className:"".concat(prefixCls,"-footer")},footer),loadMore||("bottom"===paginationPosition||"both"===paginationPosition)&&paginationContent))}List.Item=Item;export default List;