import"/node_modules/core-js/modules/es.symbol.description.js";import"/node_modules/core-js/modules/es.array.index-of.js";import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/es.array.slice.js";import"/node_modules/core-js/modules/es.number.to-fixed.js";import"/node_modules/core-js/modules/es.regexp.constructor.js";import"/node_modules/core-js/modules/es.regexp.to-string.js";import"/node_modules/core-js/modules/es.string.match.js";import"/node_modules/core-js/modules/es.string.replace.js";import"/node_modules/core-js/modules/es.string.split.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}var vendorPrefix,jsCssMap={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(vendorPrefix!==void 0)return vendorPrefix;vendorPrefix="";var style=document.createElement("p").style;for(var key in jsCssMap)key+"Transform"in style&&(vendorPrefix=key);return vendorPrefix}function getTransitionName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty(node,value){var name=getTransitionName();name&&(node.style[name]=value,"transitionProperty"!==name&&(node.style.transitionProperty=value))}function setTransform(node,value){var name=getTransformName();name&&(node.style[name]=value,"transform"!==name&&(node.style.transform=value))}function getTransitionProperty(node){return node.style.transitionProperty||node.style[getTransitionName()]}function getTransformXY(node){var style=window.getComputedStyle(node,null),transform=style.getPropertyValue("transform")||style.getPropertyValue(getTransformName());if(transform&&"none"!==transform){var matrix=transform.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(matrix[12]||matrix[4],0),y:parseFloat(matrix[13]||matrix[5],0)}}return{x:0,y:0}}var matrix2d=/matrix\((.*)\)/,matrix3d=/matrix3d\((.*)\)/;function setTransformXY(node,xy){var style=window.getComputedStyle(node,null),transform=style.getPropertyValue("transform")||style.getPropertyValue(getTransformName());if(transform&&"none"!==transform){var arr,match2d=transform.match(matrix2d);if(match2d)match2d=match2d[1],arr=match2d.split(",").map(function(item){return parseFloat(item,10)}),arr[4]=xy.x,arr[5]=xy.y,setTransform(node,"matrix(".concat(arr.join(","),")"));else{var match3d=transform.match(matrix3d)[1];arr=match3d.split(",").map(function(item){return parseFloat(item,10)}),arr[12]=xy.x,arr[13]=xy.y,setTransform(node,"matrix3d(".concat(arr.join(","),")"))}}else setTransform(node,"translateX(".concat(xy.x,"px) translateY(").concat(xy.y,"px) translateZ(0)"))}var getComputedStyleX,RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function forceRelayout(elem){var originalStyle=elem.style.display;elem.style.display="none",elem.offsetHeight,elem.style.display=originalStyle}function css(el,name,v){var value=v;if("object"===_typeof(name)){for(var i in name)name.hasOwnProperty(i)&&css(el,i,name[i]);return}return"undefined"==typeof value?getComputedStyleX(el,name):("number"==typeof value&&(value="".concat(value,"px")),void(el.style[name]=value))}function getClientPosition(elem){var box,x,y,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;return box=elem.getBoundingClientRect(),x=box.left,y=box.top,x-=docElem.clientLeft||body.clientLeft||0,y-=docElem.clientTop||body.clientTop||0,{left:x,top:y}}function getScroll(w,top){var ret=w["page".concat(top?"Y":"X","Offset")],method="scroll".concat(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;ret=d.documentElement[method],"number"!=typeof ret&&(ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=getClientPosition(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}function isWindow(obj){return null!==obj&&obj!==void 0&&obj==obj.window}function getDocument(node){return isWindow(node)?node.document:9===node.nodeType?node:node.ownerDocument}function _getComputedStyle(elem,name,cs){var computedStyle=cs,val="",d=getDocument(elem);return computedStyle=computedStyle||d.defaultView.getComputedStyle(elem,null),computedStyle&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}var _RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";function _getComputedStyleIE(elem,name){var ret=elem[CURRENT_STYLE]&&elem[CURRENT_STYLE][name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style,left=style[LEFT],rsLeft=elem[RUNTIME_STYLE][LEFT];elem[RUNTIME_STYLE][LEFT]=elem[CURRENT_STYLE][LEFT],style[LEFT]="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+PX,style[LEFT]=left,elem[RUNTIME_STYLE][LEFT]=rsLeft}return""===ret?"auto":ret}getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE;function getOffsetDirection(dir,option){return"left"===dir?option.useCssRight?"right":dir:option.useCssBottom?"bottom":dir}function oppositeOffsetDirection(dir){if("left"===dir)return"right";return"right"===dir?"left":"top"===dir?"bottom":"bottom"===dir?"top":void 0}function setLeftTop(elem,offset,option){"static"===css(elem,"position")&&(elem.style.position="relative");var presetH=-999,presetV=-999,horizontalProperty=getOffsetDirection("left",option),verticalProperty=getOffsetDirection("top",option),oppositeHorizontalProperty=oppositeOffsetDirection(horizontalProperty),oppositeVerticalProperty=oppositeOffsetDirection(verticalProperty);"left"!==horizontalProperty&&(presetH=999),"top"!==verticalProperty&&(presetV=999);var originalTransition="",originalOffset=getOffset(elem);("left"in offset||"top"in offset)&&(originalTransition=getTransitionProperty(elem)||"",setTransitionProperty(elem,"none")),"left"in offset&&(elem.style[oppositeHorizontalProperty]="",elem.style[horizontalProperty]="".concat(presetH,"px")),"top"in offset&&(elem.style[oppositeVerticalProperty]="",elem.style[verticalProperty]="".concat(presetV,"px")),forceRelayout(elem);var old=getOffset(elem),originalStyle={};for(var key in offset)if(offset.hasOwnProperty(key)){var dir=getOffsetDirection(key,option),preset="left"===key?presetH:presetV,off=originalOffset[key]-old[key];originalStyle[dir]=dir===key?preset+off:preset-off}css(elem,originalStyle),forceRelayout(elem),("left"in offset||"top"in offset)&&setTransitionProperty(elem,originalTransition);var ret={};for(var _key in offset)if(offset.hasOwnProperty(_key)){var _dir=getOffsetDirection(_key,option),_off=offset[_key]-originalOffset[_key];ret[_dir]=_key===_dir?originalStyle[_dir]+_off:originalStyle[_dir]-_off}css(elem,ret)}function setTransform$1(elem,offset){var originalOffset=getOffset(elem),originalXY=getTransformXY(elem),resultXY={x:originalXY.x,y:originalXY.y};"left"in offset&&(resultXY.x=originalXY.x+offset.left-originalOffset.left),"top"in offset&&(resultXY.y=originalXY.y+offset.top-originalOffset.top),setTransformXY(elem,resultXY)}function setOffset(elem,offset,option){if(option.ignoreShake){var oriOffset=getOffset(elem),oLeft=oriOffset.left.toFixed(0),oTop=oriOffset.top.toFixed(0),tLeft=offset.left.toFixed(0),tTop=offset.top.toFixed(0);if(oLeft===tLeft&&oTop===tTop)return}option.useCssRight||option.useCssBottom?setLeftTop(elem,offset,option):option.useCssTransform&&getTransformName()in document.body.style?setTransform$1(elem,offset):setLeftTop(elem,offset,option)}function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap(elem,options,callback){var old={},style=elem.style;for(var name in options)options.hasOwnProperty(name)&&(old[name]=style[name],style[name]=options[name]);for(name in callback.call(elem),options)options.hasOwnProperty(name)&&(style[name]=old[name])}function getPBMWidth(elem,props,which){var prop,j,i,value=0;for(j=0;j<props.length;j++)if(prop=props[j],prop)for(i=0;i<which.length;i++){var cssProp=void 0;cssProp="border"===prop?"".concat(prop).concat(which[i],"Width"):prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}var domUtils={getParent:function getParent(element){var parent=element;do parent=11===parent.nodeType&&parent.host?parent.host:parent.parentNode;while(parent&&1!==parent.nodeType&&9!==parent.nodeType);return parent}};each(["Width","Height"],function(name){domUtils["doc".concat(name)]=function(refWin){var d=refWin.document;return Math.max(d.documentElement["scroll".concat(name)],d.body["scroll".concat(name)],domUtils["viewport".concat(name)](d))},domUtils["viewport".concat(name)]=function(win){var prop="client".concat(name),doc=win.document,body=doc.body,documentElement=doc.documentElement,documentElementProp=documentElement[prop];return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}});function getWH(elem,name,ex){var extra=ex;if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.getBoundingClientRect().width:elem.getBoundingClientRect().height;getComputedStyleX(elem);var isBorderBox=isBorderBoxFn(elem),cssBoxValue=0;(null===borderBoxValue||borderBoxValue===void 0||0>=borderBoxValue)&&(borderBoxValue=void 0,cssBoxValue=getComputedStyleX(elem,name),(null===cssBoxValue||cssBoxValue===void 0||0>+cssBoxValue)&&(cssBoxValue=elem.style[name]||0),cssBoxValue=parseFloat(cssBoxValue)||0),extra===void 0&&(extra=isBorderBox?BORDER_INDEX:CONTENT_INDEX);var borderBoxValueOrIsBorderBox=borderBoxValue!==void 0||isBorderBox,val=borderBoxValue||cssBoxValue;if(extra===CONTENT_INDEX)return borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which):cssBoxValue;return borderBoxValueOrIsBorderBox?extra===BORDER_INDEX?val:val+(extra===PADDING_INDEX?-getPBMWidth(elem,["border"],which):getPBMWidth(elem,["margin"],which)):cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which)}var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var _len=arguments.length,args=Array(_len),_key2=0;_key2<_len;_key2++)args[_key2]=arguments[_key2];var val,elem=args[0];return 0===elem.offsetWidth?swap(elem,cssShow,function(){val=getWH.apply(void 0,args)}):val=getWH.apply(void 0,args),val}each(["width","height"],function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer".concat(first)]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?MARGIN_INDEX:BORDER_INDEX)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,v){var val=v;if(val!==void 0){if(elem){getComputedStyleX(elem);var isBorderBox=isBorderBoxFn(elem);return isBorderBox&&(val+=getPBMWidth(elem,["padding","border"],which)),css(elem,name,val)}return}return elem&&getWHIgnoreDisplay(elem,name,CONTENT_INDEX)}});function mix(to,from){for(var i in from)from.hasOwnProperty(i)&&(to[i]=from[i]);return to}var utils={getWindow:function getWindow(node){if(node&&node.document&&node.setTimeout)return node;var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},getDocument:getDocument,offset:function offset(el,value,option){return"undefined"==typeof value?getOffset(el):void setOffset(el,value,option||{})},isWindow:isWindow,each:each,css:css,clone:function clone(obj){var ret={};for(var i in obj)obj.hasOwnProperty(i)&&(ret[i]=obj[i]);var overflow=obj.overflow;if(overflow)for(i in obj)obj.hasOwnProperty(i)&&(ret.overflow[i]=obj.overflow[i]);return ret},mix:mix,getWindowScrollLeft:function getWindowScrollLeft(w){return getScrollLeft(w)},getWindowScrollTop:function getWindowScrollTop(w){return getScrollTop(w)},merge:function merge(){for(var ret={},i=0;i<arguments.length;i++)utils.mix(ret,0>i||arguments.length<=i?void 0:arguments[i]);return ret},viewportWidth:0,viewportHeight:0};mix(utils,domUtils);var getParent=utils.getParent;function getOffsetParent(element){if(utils.isWindow(element)||9===element.nodeType)return null;var parent,doc=utils.getDocument(element),body=doc.body,positionStyle=utils.css(element,"position"),skipStatic="fixed"===positionStyle||"absolute"===positionStyle;if(!skipStatic)return"html"===element.nodeName.toLowerCase()?null:getParent(element);for(parent=getParent(element);parent&&parent!==body&&9!==parent.nodeType;parent=getParent(parent))if(positionStyle=utils.css(parent,"position"),"static"!==positionStyle)return parent;return null}var getParent$1=utils.getParent;function isAncestorFixed(element){if(utils.isWindow(element)||9===element.nodeType)return!1;var doc=utils.getDocument(element),body=doc.body,parent=null;for(parent=getParent$1(element);parent&&parent!==body;parent=getParent$1(parent)){var positionStyle=utils.css(parent,"position");if("fixed"===positionStyle)return!0}return!1}function getVisibleRectForElement(element,alwaysByViewport){for(var visibleRect={left:0,right:1/0,top:0,bottom:1/0},el=getOffsetParent(element),doc=utils.getDocument(element),win=doc.defaultView||doc.parentWindow,body=doc.body,documentElement=doc.documentElement;el;){if((-1===navigator.userAgent.indexOf("MSIE")||0!==el.clientWidth)&&el!==body&&el!==documentElement&&"visible"!==utils.css(el,"overflow")){var pos=utils.offset(el);pos.left+=el.clientLeft,pos.top+=el.clientTop,visibleRect.top=Math.max(visibleRect.top,pos.top),visibleRect.right=Math.min(visibleRect.right,pos.left+el.clientWidth),visibleRect.bottom=Math.min(visibleRect.bottom,pos.top+el.clientHeight),visibleRect.left=Math.max(visibleRect.left,pos.left)}else if(el===body||el===documentElement)break;el=getOffsetParent(el)}var originalPosition=null;if(!utils.isWindow(element)&&9!==element.nodeType){originalPosition=element.style.position;var position=utils.css(element,"position");"absolute"===position&&(element.style.position="fixed")}var scrollX=utils.getWindowScrollLeft(win),scrollY=utils.getWindowScrollTop(win),viewportWidth=utils.viewportWidth(win),viewportHeight=utils.viewportHeight(win),documentWidth=documentElement.scrollWidth,documentHeight=documentElement.scrollHeight,bodyStyle=window.getComputedStyle(body);if("hidden"===bodyStyle.overflowX&&(documentWidth=win.innerWidth),"hidden"===bodyStyle.overflowY&&(documentHeight=win.innerHeight),element.style&&(element.style.position=originalPosition),alwaysByViewport||isAncestorFixed(element))visibleRect.left=Math.max(visibleRect.left,scrollX),visibleRect.top=Math.max(visibleRect.top,scrollY),visibleRect.right=Math.min(visibleRect.right,scrollX+viewportWidth),visibleRect.bottom=Math.min(visibleRect.bottom,scrollY+viewportHeight);else{var maxVisibleWidth=Math.max(documentWidth,scrollX+viewportWidth);visibleRect.right=Math.min(visibleRect.right,maxVisibleWidth);var maxVisibleHeight=Math.max(documentHeight,scrollY+viewportHeight);visibleRect.bottom=Math.min(visibleRect.bottom,maxVisibleHeight)}return 0<=visibleRect.top&&0<=visibleRect.left&&visibleRect.bottom>visibleRect.top&&visibleRect.right>visibleRect.left?visibleRect:null}function adjustForViewport(elFuturePos,elRegion,visibleRect,overflow){var pos=utils.clone(elFuturePos),size={width:elRegion.width,height:elRegion.height};return overflow.adjustX&&pos.left<visibleRect.left&&(pos.left=visibleRect.left),overflow.resizeWidth&&pos.left>=visibleRect.left&&pos.left+size.width>visibleRect.right&&(size.width-=pos.left+size.width-visibleRect.right),overflow.adjustX&&pos.left+size.width>visibleRect.right&&(pos.left=Math.max(visibleRect.right-size.width,visibleRect.left)),overflow.adjustY&&pos.top<visibleRect.top&&(pos.top=visibleRect.top),overflow.resizeHeight&&pos.top>=visibleRect.top&&pos.top+size.height>visibleRect.bottom&&(size.height-=pos.top+size.height-visibleRect.bottom),overflow.adjustY&&pos.top+size.height>visibleRect.bottom&&(pos.top=Math.max(visibleRect.bottom-size.height,visibleRect.top)),utils.mix(pos,size)}function getRegion(node){var offset,w,h;if(!utils.isWindow(node)&&9!==node.nodeType)offset=utils.offset(node),w=utils.outerWidth(node),h=utils.outerHeight(node);else{var win=utils.getWindow(node);offset={left:utils.getWindowScrollLeft(win),top:utils.getWindowScrollTop(win)},w=utils.viewportWidth(win),h=utils.viewportHeight(win)}return offset.width=w,offset.height=h,offset}function getAlignOffset(region,align){var V=align.charAt(0),H=align.charAt(1),w=region.width,h=region.height,x=region.left,y=region.top;return"c"===V?y+=h/2:"b"===V&&(y+=h),"c"===H?x+=w/2:"r"===H&&(x+=w),{left:x,top:y}}function getElFuturePos(elRegion,refNodeRegion,points,offset,targetOffset){var p1=getAlignOffset(refNodeRegion,points[1]),p2=getAlignOffset(elRegion,points[0]),diff=[p2.left-p1.left,p2.top-p1.top];return{left:Math.round(elRegion.left-diff[0]+offset[0]-targetOffset[0]),top:Math.round(elRegion.top-diff[1]+offset[1]-targetOffset[1])}}function isFailX(elFuturePos,elRegion,visibleRect){return elFuturePos.left<visibleRect.left||elFuturePos.left+elRegion.width>visibleRect.right}function isFailY(elFuturePos,elRegion,visibleRect){return elFuturePos.top<visibleRect.top||elFuturePos.top+elRegion.height>visibleRect.bottom}function isCompleteFailX(elFuturePos,elRegion,visibleRect){return elFuturePos.left>visibleRect.right||elFuturePos.left+elRegion.width<visibleRect.left}function isCompleteFailY(elFuturePos,elRegion,visibleRect){return elFuturePos.top>visibleRect.bottom||elFuturePos.top+elRegion.height<visibleRect.top}function flip(points,reg,map){var ret=[];return utils.each(points,function(p){ret.push(p.replace(reg,function(m){return map[m]}))}),ret}function flipOffset(offset,index){return offset[index]=-offset[index],offset}function convertOffset(str,offsetLen){var n;return n=/%$/.test(str)?parseInt(str.substring(0,str.length-1),10)/100*offsetLen:parseInt(str,10),n||0}function normalizeOffset(offset,el){offset[0]=convertOffset(offset[0],el.width),offset[1]=convertOffset(offset[1],el.height)}function doAlign(el,tgtRegion,align,isTgtRegionVisible){var points=align.points,offset=align.offset||[0,0],targetOffset=align.targetOffset||[0,0],overflow=align.overflow,source=align.source||el;offset=[].concat(offset),targetOffset=[].concat(targetOffset),overflow=overflow||{};var newOverflowCfg={},fail=0,alwaysByViewport=!!(overflow&&overflow.alwaysByViewport),visibleRect=getVisibleRectForElement(source,alwaysByViewport),elRegion=getRegion(source);normalizeOffset(offset,elRegion),normalizeOffset(targetOffset,tgtRegion);var elFuturePos=getElFuturePos(elRegion,tgtRegion,points,offset,targetOffset),newElRegion=utils.merge(elRegion,elFuturePos);if(visibleRect&&(overflow.adjustX||overflow.adjustY)&&isTgtRegionVisible){if(overflow.adjustX&&isFailX(elFuturePos,elRegion,visibleRect)){var newPoints=flip(points,/[lr]/gi,{l:"r",r:"l"}),newOffset=flipOffset(offset,0),newTargetOffset=flipOffset(targetOffset,0),newElFuturePos=getElFuturePos(elRegion,tgtRegion,newPoints,newOffset,newTargetOffset);isCompleteFailX(newElFuturePos,elRegion,visibleRect)||(fail=1,points=newPoints,offset=newOffset,targetOffset=newTargetOffset)}if(overflow.adjustY&&isFailY(elFuturePos,elRegion,visibleRect)){var _newPoints=flip(points,/[tb]/gi,{t:"b",b:"t"}),_newOffset=flipOffset(offset,1),_newTargetOffset=flipOffset(targetOffset,1),_newElFuturePos=getElFuturePos(elRegion,tgtRegion,_newPoints,_newOffset,_newTargetOffset);isCompleteFailY(_newElFuturePos,elRegion,visibleRect)||(fail=1,points=_newPoints,offset=_newOffset,targetOffset=_newTargetOffset)}fail&&(elFuturePos=getElFuturePos(elRegion,tgtRegion,points,offset,targetOffset),utils.mix(newElRegion,elFuturePos));var isStillFailX=isFailX(elFuturePos,elRegion,visibleRect),isStillFailY=isFailY(elFuturePos,elRegion,visibleRect);if(isStillFailX||isStillFailY){var _newPoints2=points;isStillFailX&&(_newPoints2=flip(points,/[lr]/gi,{l:"r",r:"l"})),isStillFailY&&(_newPoints2=flip(points,/[tb]/gi,{t:"b",b:"t"})),points=_newPoints2,offset=align.offset||[0,0],targetOffset=align.targetOffset||[0,0]}newOverflowCfg.adjustX=overflow.adjustX&&isStillFailX,newOverflowCfg.adjustY=overflow.adjustY&&isStillFailY,(newOverflowCfg.adjustX||newOverflowCfg.adjustY)&&(newElRegion=adjustForViewport(elFuturePos,elRegion,visibleRect,newOverflowCfg))}return newElRegion.width!==elRegion.width&&utils.css(source,"width",utils.width(source)+newElRegion.width-elRegion.width),newElRegion.height!==elRegion.height&&utils.css(source,"height",utils.height(source)+newElRegion.height-elRegion.height),utils.offset(source,{left:newElRegion.left,top:newElRegion.top},{useCssRight:align.useCssRight,useCssBottom:align.useCssBottom,useCssTransform:align.useCssTransform,ignoreShake:align.ignoreShake}),{points:points,offset:offset,targetOffset:targetOffset,overflow:newOverflowCfg}}function isOutOfVisibleRect(target,alwaysByViewport){var visibleRect=getVisibleRectForElement(target,alwaysByViewport),targetRegion=getRegion(target);return!visibleRect||targetRegion.left+targetRegion.width<=visibleRect.left||targetRegion.top+targetRegion.height<=visibleRect.top||targetRegion.left>=visibleRect.right||targetRegion.top>=visibleRect.bottom}function alignElement(el,refNode,align){var target=align.target||refNode,refNodeRegion=getRegion(target),isTargetNotOutOfVisible=!isOutOfVisibleRect(target,align.overflow&&align.overflow.alwaysByViewport);return doAlign(el,refNodeRegion,align,isTargetNotOutOfVisible)}alignElement.__getOffsetParent=getOffsetParent,alignElement.__getVisibleRectForElement=getVisibleRectForElement;function alignPoint(el,tgtPoint,align){var pageX,pageY,doc=utils.getDocument(el),win=doc.defaultView||doc.parentWindow,scrollX=utils.getWindowScrollLeft(win),scrollY=utils.getWindowScrollTop(win),viewportWidth=utils.viewportWidth(win),viewportHeight=utils.viewportHeight(win);pageX="pageX"in tgtPoint?tgtPoint.pageX:scrollX+tgtPoint.clientX,pageY="pageY"in tgtPoint?tgtPoint.pageY:scrollY+tgtPoint.clientY;var tgtRegion={left:pageX,top:pageY,width:0,height:0},pointInView=0<=pageX&&pageX<=scrollX+viewportWidth&&0<=pageY&&pageY<=scrollY+viewportHeight,points=[align.points[0],"cc"];return doAlign(el,tgtRegion,_objectSpread2({},align,{points:points}),pointInView)}export default alignElement;export{alignElement,alignPoint};