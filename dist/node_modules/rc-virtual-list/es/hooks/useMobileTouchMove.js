import React from"c:\\node_modules\\react\\index.js";import{useRef}from"c:\\node_modules\\react\\index.js";var SMOOTH_PTG=14/15;export default function useMobileTouchMove(inVirtual,listRef,callback){var cleanUpEvents,touchedRef=useRef(!1),touchYRef=useRef(0),elementRef=useRef(null),intervalRef=useRef(null),onTouchMove=function onTouchMove(e){if(touchedRef.current){var currentY=Math.ceil(e.touches[0].pageY),offsetY=touchYRef.current-currentY;touchYRef.current=currentY,callback(offsetY)&&e.preventDefault(),clearInterval(intervalRef.current),intervalRef.current=setInterval(function(){offsetY*=SMOOTH_PTG,(!callback(offsetY,!0)||.1>=Math.abs(offsetY))&&clearInterval(intervalRef.current)},16)}},onTouchEnd=function onTouchEnd(){touchedRef.current=!1,cleanUpEvents()},onTouchStart=function onTouchStart(e){cleanUpEvents(),1!==e.touches.length||touchedRef.current||(touchedRef.current=!0,touchYRef.current=Math.ceil(e.touches[0].pageY),elementRef.current=e.target,elementRef.current.addEventListener("touchmove",onTouchMove),elementRef.current.addEventListener("touchend",onTouchEnd))};cleanUpEvents=function cleanUpEvents(){elementRef.current&&(elementRef.current.removeEventListener("touchmove",onTouchMove),elementRef.current.removeEventListener("touchend",onTouchEnd))},React.useLayoutEffect(function(){return inVirtual&&listRef.current.addEventListener("touchstart",onTouchStart),function(){listRef.current.removeEventListener("touchstart",onTouchStart),cleanUpEvents(),clearInterval(intervalRef.current)}},[inVirtual])}