import"/node_modules/core-js/modules/es.symbol.description.js";import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}import React from"c:\\node_modules\\react\\index.js";import raf from"/node_modules/rc-util/es/raf.js";export default function useScrollTo(containerRef,data,heights,itemHeight,getKey,collectHeight,syncScrollTop,triggerFlash){var scrollRef=React.useRef();return function(arg){if(null===arg||void 0===arg)return void triggerFlash();if(raf.cancel(scrollRef.current),"number"==typeof arg)syncScrollTop(arg);else if(arg&&"object"===_typeof(arg)){var index,align=arg.align;index="index"in arg?arg.index:data.findIndex(function(item){return getKey(item)===arg.key});var _arg$offset=arg.offset,offset=void 0===_arg$offset?0:_arg$offset,syncScroll=function syncScroll(times,targetAlign){if(!(0>times)&&containerRef.current){var height=containerRef.current.clientHeight,needCollectHeight=!1,newTargetAlign=targetAlign;if(height){for(var key,stackTop=0,itemTop=0,itemBottom=0,maxLen=Math.min(data.length,index),i=0;i<=maxLen;i+=1){key=getKey(data[i]),itemTop=stackTop;var cacheHeight=heights.get(key);itemBottom=itemTop+(void 0===cacheHeight?itemHeight:cacheHeight),stackTop=itemBottom,i===index&&void 0===cacheHeight&&(needCollectHeight=!0)}var targetTop=null;switch(targetAlign||align){case"top":targetTop=itemTop-offset;break;case"bottom":targetTop=itemBottom-height+offset;break;default:{var scrollTop=containerRef.current.scrollTop;itemTop<scrollTop?newTargetAlign="top":itemBottom>scrollTop+height&&(newTargetAlign="bottom")}}null!==targetTop&&targetTop!==containerRef.current.scrollTop&&syncScrollTop(targetTop)}scrollRef.current=raf(function(){needCollectHeight&&collectHeight(),syncScroll(times-1,newTargetAlign)})}};syncScroll(3)}}}