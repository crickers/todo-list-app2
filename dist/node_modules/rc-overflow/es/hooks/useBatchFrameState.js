import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import{useRef,useState,useEffect}from"c:\\node_modules\\react\\index.js";import raf from"/node_modules/rc-util/es/raf.js";export function useBatchFrameState(){function createState(defaultValue){function setValue(val){statesRef.current[myIndex]="function"==typeof val?val(statesRef.current[myIndex]):val,raf.cancel(beforeFrameId),beforeFrameId=raf(function(){destroyRef.current||forceUpdate({})})}var myIndex=walkingIndex;walkingIndex+=1,statesRef.current.length<myIndex+1&&(statesRef.current[myIndex]=defaultValue);var value=statesRef.current[myIndex];return[value,setValue]}var _useState=useState({}),_useState2=_slicedToArray(_useState,2),forceUpdate=_useState2[1],statesRef=useRef([]),destroyRef=useRef(!1),walkingIndex=0,beforeFrameId=0;return useEffect(function(){return function(){destroyRef.current=!0}},[]),createState}