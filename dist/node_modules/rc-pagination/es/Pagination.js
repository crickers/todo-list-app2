import"/node_modules/core-js/modules/es.array.reduce.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _objectSpread from"/node_modules/@babel/runtime/helpers/esm/objectSpread2.js";import _classCallCheck from"/node_modules/@babel/runtime/helpers/esm/classCallCheck.js";import _createClass from"/node_modules/@babel/runtime/helpers/esm/createClass.js";import _inherits from"/node_modules/@babel/runtime/helpers/esm/inherits.js";import _createSuper from"/node_modules/@babel/runtime/helpers/esm/createSuper.js";import React,{cloneElement,isValidElement}from"c:\\node_modules\\react\\index.js";import classNames from"/node_modules/classnames.js";import Pager from"/node_modules/rc-pagination/es/Pager.js";import Options from"/node_modules/rc-pagination/es/Options.js";import KEYCODE from"/node_modules/rc-pagination/es/KeyCode.js";import LOCALE from"/node_modules/rc-pagination/es/locale/zh_CN.js";function noop(){}function isInteger(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value}function defaultItemRender(page,type,element){return element}function calculatePage(p,state,props){var pageSize="undefined"==typeof p?state.pageSize:p;return Math.floor((props.total-1)/pageSize)+1}var Pagination=function(_React$Component){function Pagination(props){var _this;_classCallCheck(this,Pagination),_this=_super.call(this,props),_this.getJumpPrevPage=function(){return Math.max(1,_this.state.current-(_this.props.showLessItems?3:5))},_this.getJumpNextPage=function(){return Math.min(calculatePage(void 0,_this.state,_this.props),_this.state.current+(_this.props.showLessItems?3:5))},_this.getItemIcon=function(icon,label){var prefixCls=_this.props.prefixCls,iconNode=icon||React.createElement("button",{type:"button","aria-label":label,className:"".concat(prefixCls,"-item-link")});return"function"==typeof icon&&(iconNode=React.createElement(icon,_objectSpread({},_this.props))),iconNode},_this.savePaginationNode=function(node){_this.paginationNode=node},_this.isValid=function(page){return isInteger(page)&&page!==_this.state.current},_this.shouldDisplayQuickJumper=function(){var _this$props=_this.props,showQuickJumper=_this$props.showQuickJumper,pageSize=_this$props.pageSize,total=_this$props.total;return!(total<=pageSize)&&showQuickJumper},_this.handleKeyDown=function(e){(e.keyCode===KEYCODE.ARROW_UP||e.keyCode===KEYCODE.ARROW_DOWN)&&e.preventDefault()},_this.handleKeyUp=function(e){var value=_this.getValidValue(e),currentInputValue=_this.state.currentInputValue;value!==currentInputValue&&_this.setState({currentInputValue:value}),e.keyCode===KEYCODE.ENTER?_this.handleChange(value):e.keyCode===KEYCODE.ARROW_UP?_this.handleChange(value-1):e.keyCode===KEYCODE.ARROW_DOWN&&_this.handleChange(value+1)},_this.changePageSize=function(size){var current=_this.state.current,newCurrent=calculatePage(size,_this.state,_this.props);current=current>newCurrent?newCurrent:current,0===newCurrent&&(current=_this.state.current),"number"==typeof size&&(!("pageSize"in _this.props)&&_this.setState({pageSize:size}),!("current"in _this.props)&&_this.setState({current:current,currentInputValue:current})),_this.props.onShowSizeChange(current,size),"onChange"in _this.props&&_this.props.onChange&&_this.props.onChange(current,size)},_this.handleChange=function(p){var disabled=_this.props.disabled,page=p;if(_this.isValid(page)&&!disabled){var currentPage=calculatePage(void 0,_this.state,_this.props);page>currentPage?page=currentPage:1>page&&(page=1),"current"in _this.props||_this.setState({current:page,currentInputValue:page});var pageSize=_this.state.pageSize;return _this.props.onChange(page,pageSize),page}return _this.state.current},_this.prev=function(){_this.hasPrev()&&_this.handleChange(_this.state.current-1)},_this.next=function(){_this.hasNext()&&_this.handleChange(_this.state.current+1)},_this.jumpPrev=function(){_this.handleChange(_this.getJumpPrevPage())},_this.jumpNext=function(){_this.handleChange(_this.getJumpNextPage())},_this.hasPrev=function(){return 1<_this.state.current},_this.hasNext=function(){return _this.state.current<calculatePage(void 0,_this.state,_this.props)},_this.runIfEnter=function(event,callback){if("Enter"===event.key||13===event.charCode){for(var _len=arguments.length,restParams=Array(2<_len?_len-2:0),_key=2;_key<_len;_key++)restParams[_key-2]=arguments[_key];callback.apply(void 0,restParams)}},_this.runIfEnterPrev=function(e){_this.runIfEnter(e,_this.prev)},_this.runIfEnterNext=function(e){_this.runIfEnter(e,_this.next)},_this.runIfEnterJumpPrev=function(e){_this.runIfEnter(e,_this.jumpPrev)},_this.runIfEnterJumpNext=function(e){_this.runIfEnter(e,_this.jumpNext)},_this.handleGoTO=function(e){(e.keyCode===KEYCODE.ENTER||"click"===e.type)&&_this.handleChange(_this.state.currentInputValue)};var hasOnChange=props.onChange!==noop,hasCurrent=("current"in props);hasCurrent&&!hasOnChange&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var _current=props.defaultCurrent;"current"in props&&(_current=props.current);var _pageSize=props.defaultPageSize;return"pageSize"in props&&(_pageSize=props.pageSize),_current=Math.min(_current,calculatePage(_pageSize,void 0,props)),_this.state={current:_current,currentInputValue:_current,pageSize:_pageSize},_this}_inherits(Pagination,_React$Component);var _super=_createSuper(Pagination);return _createClass(Pagination,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var prefixCls=this.props.prefixCls;if(prevState.current!==this.state.current&&this.paginationNode){var lastCurrentNode=this.paginationNode.querySelector(".".concat(prefixCls,"-item-").concat(prevState.current));lastCurrentNode&&document.activeElement===lastCurrentNode&&lastCurrentNode.blur()}}},{key:"getValidValue",value:function getValidValue(e){var value,inputValue=e.target.value,allPages=calculatePage(void 0,this.state,this.props),currentInputValue=this.state.currentInputValue;return value=""===inputValue?inputValue:isNaN(+inputValue)?currentInputValue:inputValue>=allPages?allPages:+inputValue,value}},{key:"getShowSizeChanger",value:function getShowSizeChanger(){var _this$props2=this.props,showSizeChanger=_this$props2.showSizeChanger,total=_this$props2.total,totalBoundaryShowSizeChanger=_this$props2.totalBoundaryShowSizeChanger;return"undefined"==typeof showSizeChanger?total>totalBoundaryShowSizeChanger:showSizeChanger}},{key:"renderPrev",value:function renderPrev(prevPage){var _this$props3=this.props,prevIcon=_this$props3.prevIcon,itemRender=_this$props3.itemRender,prevButton=itemRender(prevPage,"prev",this.getItemIcon(prevIcon,"prev page")),disabled=!this.hasPrev();return isValidElement(prevButton)?cloneElement(prevButton,{disabled:disabled}):prevButton}},{key:"renderNext",value:function renderNext(nextPage){var _this$props4=this.props,nextIcon=_this$props4.nextIcon,itemRender=_this$props4.itemRender,nextButton=itemRender(nextPage,"next",this.getItemIcon(nextIcon,"next page")),disabled=!this.hasNext();return isValidElement(nextButton)?cloneElement(nextButton,{disabled:disabled}):nextButton}},{key:"render",value:function render(){var _this2=this,_this$props5=this.props,prefixCls=_this$props5.prefixCls,className=_this$props5.className,style=_this$props5.style,disabled=_this$props5.disabled,hideOnSinglePage=_this$props5.hideOnSinglePage,total=_this$props5.total,locale=_this$props5.locale,showQuickJumper=_this$props5.showQuickJumper,showLessItems=_this$props5.showLessItems,showTitle=_this$props5.showTitle,showTotal=_this$props5.showTotal,simple=_this$props5.simple,itemRender=_this$props5.itemRender,showPrevNextJumpers=_this$props5.showPrevNextJumpers,jumpPrevIcon=_this$props5.jumpPrevIcon,jumpNextIcon=_this$props5.jumpNextIcon,selectComponentClass=_this$props5.selectComponentClass,selectPrefixCls=_this$props5.selectPrefixCls,pageSizeOptions=_this$props5.pageSizeOptions,_this$state=this.state,current=_this$state.current,pageSize=_this$state.pageSize,currentInputValue=_this$state.currentInputValue;if(!0===hideOnSinglePage&&total<=pageSize)return null;var allPages=calculatePage(void 0,this.state,this.props),pagerList=[],jumpPrev=null,jumpNext=null,firstPager=null,lastPager=null,gotoButton=null,goButton=showQuickJumper&&showQuickJumper.goButton,pageBufferSize=showLessItems?1:2,prevPage=0<current-1?current-1:0,nextPage=current+1<allPages?current+1:allPages,dataOrAriaAttributeProps=Object.keys(this.props).reduce(function(prev,key){return("data-"===key.substr(0,5)||"aria-"===key.substr(0,5)||"role"===key)&&(prev[key]=_this2.props[key]),prev},{});if(simple)return goButton&&(gotoButton="boolean"==typeof goButton?React.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},locale.jump_to_confirm):React.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},goButton),gotoButton=React.createElement("li",{title:showTitle?"".concat(locale.jump_to).concat(current,"/").concat(allPages):null,className:"".concat(prefixCls,"-simple-pager")},gotoButton)),React.createElement("ul",_extends({className:classNames(prefixCls,"".concat(prefixCls,"-simple"),_defineProperty({},"".concat(prefixCls,"-disabled"),disabled),className),style:style,ref:this.savePaginationNode},dataOrAriaAttributeProps),React.createElement("li",{title:showTitle?locale.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:classNames("".concat(prefixCls,"-prev"),_defineProperty({},"".concat(prefixCls,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(prevPage)),React.createElement("li",{title:showTitle?"".concat(current,"/").concat(allPages):null,className:"".concat(prefixCls,"-simple-pager")},React.createElement("input",{type:"text",value:currentInputValue,disabled:disabled,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),React.createElement("span",{className:"".concat(prefixCls,"-slash")},"/"),allPages),React.createElement("li",{title:showTitle?locale.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:classNames("".concat(prefixCls,"-next"),_defineProperty({},"".concat(prefixCls,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(nextPage)),gotoButton);if(allPages<=3+2*pageBufferSize){var pagerProps={locale:locale,rootPrefixCls:prefixCls,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:showTitle,itemRender:itemRender};allPages||pagerList.push(React.createElement(Pager,_extends({},pagerProps,{key:"noPager",page:allPages,className:"".concat(prefixCls,"-disabled")})));for(var active,i=1;i<=allPages;i+=1)active=current===i,pagerList.push(React.createElement(Pager,_extends({},pagerProps,{key:i,page:i,active:active})))}else{var prevItemTitle=showLessItems?locale.prev_3:locale.prev_5,nextItemTitle=showLessItems?locale.next_3:locale.next_5;showPrevNextJumpers&&(jumpPrev=React.createElement("li",{title:showTitle?prevItemTitle:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:classNames("".concat(prefixCls,"-jump-prev"),_defineProperty({},"".concat(prefixCls,"-jump-prev-custom-icon"),!!jumpPrevIcon))},itemRender(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(jumpPrevIcon,"prev page"))),jumpNext=React.createElement("li",{title:showTitle?nextItemTitle:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:classNames("".concat(prefixCls,"-jump-next"),_defineProperty({},"".concat(prefixCls,"-jump-next-custom-icon"),!!jumpNextIcon))},itemRender(this.getJumpNextPage(),"jump-next",this.getItemIcon(jumpNextIcon,"next page")))),lastPager=React.createElement(Pager,{locale:locale,last:!0,rootPrefixCls:prefixCls,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:allPages,page:allPages,active:!1,showTitle:showTitle,itemRender:itemRender}),firstPager=React.createElement(Pager,{locale:locale,rootPrefixCls:prefixCls,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:showTitle,itemRender:itemRender});var left=Math.max(1,current-pageBufferSize),right=Math.min(current+pageBufferSize,allPages);current-1<=pageBufferSize&&(right=1+2*pageBufferSize),allPages-current<=pageBufferSize&&(left=allPages-2*pageBufferSize);for(var _active,_i=left;_i<=right;_i+=1)_active=current===_i,pagerList.push(React.createElement(Pager,{locale:locale,rootPrefixCls:prefixCls,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:_i,page:_i,active:_active,showTitle:showTitle,itemRender:itemRender}));current-1>=2*pageBufferSize&&current!==1+2&&(pagerList[0]=cloneElement(pagerList[0],{className:"".concat(prefixCls,"-item-after-jump-prev")}),pagerList.unshift(jumpPrev)),allPages-current>=2*pageBufferSize&&current!==allPages-2&&(pagerList[pagerList.length-1]=cloneElement(pagerList[pagerList.length-1],{className:"".concat(prefixCls,"-item-before-jump-next")}),pagerList.push(jumpNext)),1!==left&&pagerList.unshift(firstPager),right!==allPages&&pagerList.push(lastPager)}var totalText=null;showTotal&&(totalText=React.createElement("li",{className:"".concat(prefixCls,"-total-text")},showTotal(total,[0===total?0:(current-1)*pageSize+1,current*pageSize>total?total:current*pageSize])));var prevDisabled=!this.hasPrev()||!allPages,nextDisabled=!this.hasNext()||!allPages;return React.createElement("ul",_extends({className:classNames(prefixCls,className,_defineProperty({},"".concat(prefixCls,"-disabled"),disabled)),style:style,unselectable:"unselectable",ref:this.savePaginationNode},dataOrAriaAttributeProps),totalText,React.createElement("li",{title:showTitle?locale.prev_page:null,onClick:this.prev,tabIndex:prevDisabled?null:0,onKeyPress:this.runIfEnterPrev,className:classNames("".concat(prefixCls,"-prev"),_defineProperty({},"".concat(prefixCls,"-disabled"),prevDisabled)),"aria-disabled":prevDisabled},this.renderPrev(prevPage)),pagerList,React.createElement("li",{title:showTitle?locale.next_page:null,onClick:this.next,tabIndex:nextDisabled?null:0,onKeyPress:this.runIfEnterNext,className:classNames("".concat(prefixCls,"-next"),_defineProperty({},"".concat(prefixCls,"-disabled"),nextDisabled)),"aria-disabled":nextDisabled},this.renderNext(nextPage)),React.createElement(Options,{disabled:disabled,locale:locale,rootPrefixCls:prefixCls,selectComponentClass:selectComponentClass,selectPrefixCls:selectPrefixCls,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:current,pageSize:pageSize,pageSizeOptions:pageSizeOptions,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:goButton}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,prevState){var newState={};if("current"in props&&(newState.current=props.current,props.current!==prevState.current&&(newState.currentInputValue=newState.current)),"pageSize"in props&&props.pageSize!==prevState.pageSize){var current=prevState.current,newCurrent=calculatePage(props.pageSize,prevState,props);current=current>newCurrent?newCurrent:current,"current"in props||(newState.current=current,newState.currentInputValue=current),newState.pageSize=props.pageSize}return newState}}]),Pagination}(React.Component);Pagination.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:noop,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:noop,locale:LOCALE,style:{},itemRender:defaultItemRender,totalBoundaryShowSizeChanger:50};export default Pagination;