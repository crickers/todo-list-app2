import"/node_modules/core-js/modules/es.array.index-of.js";import"/node_modules/core-js/modules/es.array.iterator.js";import"/node_modules/core-js/modules/esnext.map.delete-all.js";import"/node_modules/core-js/modules/esnext.map.every.js";import"/node_modules/core-js/modules/esnext.map.filter.js";import"/node_modules/core-js/modules/esnext.map.find.js";import"/node_modules/core-js/modules/esnext.map.find-key.js";import"/node_modules/core-js/modules/esnext.map.includes.js";import"/node_modules/core-js/modules/esnext.map.key-of.js";import"/node_modules/core-js/modules/esnext.map.map-keys.js";import"/node_modules/core-js/modules/esnext.map.map-values.js";import"/node_modules/core-js/modules/esnext.map.merge.js";import"/node_modules/core-js/modules/esnext.map.reduce.js";import"/node_modules/core-js/modules/esnext.map.some.js";import"/node_modules/core-js/modules/esnext.map.update.js";import"/node_modules/core-js/modules/esnext.set.add-all.js";import"/node_modules/core-js/modules/esnext.set.delete-all.js";import"/node_modules/core-js/modules/esnext.set.difference.js";import"/node_modules/core-js/modules/esnext.set.every.js";import"/node_modules/core-js/modules/esnext.set.filter.js";import"/node_modules/core-js/modules/esnext.set.find.js";import"/node_modules/core-js/modules/esnext.set.intersection.js";import"/node_modules/core-js/modules/esnext.set.is-disjoint-from.js";import"/node_modules/core-js/modules/esnext.set.is-subset-of.js";import"/node_modules/core-js/modules/esnext.set.is-superset-of.js";import"/node_modules/core-js/modules/esnext.set.join.js";import"/node_modules/core-js/modules/esnext.set.map.js";import"/node_modules/core-js/modules/esnext.set.reduce.js";import"/node_modules/core-js/modules/esnext.set.some.js";import"/node_modules/core-js/modules/esnext.set.symmetric-difference.js";import"/node_modules/core-js/modules/esnext.set.union.js";import"/node_modules/core-js/modules/web.dom-collections.iterator.js";import _defineProperty from"/node_modules/@babel/runtime/helpers/esm/defineProperty.js";import _extends from"/node_modules/@babel/runtime/helpers/esm/extends.js";import _objectSpread from"/node_modules/@babel/runtime/helpers/esm/objectSpread2.js";import _toConsumableArray from"/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js";import _typeof from"/node_modules/@babel/runtime/helpers/esm/typeof.js";import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import React from"c:\\node_modules\\react\\index.js";import isVisible from"/node_modules/rc-util/es/Dom/isVisible.js";import classNames from"/node_modules/classnames.js";import shallowEqual from"/node_modules/shallowequal.js";import warning from"/node_modules/rc-util/es/warning.js";import ResizeObserver from"/node_modules/rc-resize-observer.js";import getScrollBarSize from"/node_modules/rc-util/es/getScrollBarSize.js";import ColumnGroup from"/node_modules/rc-table/es/sugar/ColumnGroup.js";import Column from"/node_modules/rc-table/es/sugar/Column.js";import FixedHeader from"/node_modules/rc-table/es/Header/FixedHeader.js";import Header from"/node_modules/rc-table/es/Header/Header.js";import TableContext from"/node_modules/rc-table/es/context/TableContext.js";import BodyContext from"/node_modules/rc-table/es/context/BodyContext.js";import Body from"/node_modules/rc-table/es/Body.js";import useColumns from"/node_modules/rc-table/es/hooks/useColumns.js";import{useLayoutState,useTimeoutLock}from"/node_modules/rc-table/es/hooks/useFrame.js";import{getPathValue,mergeObject,validateValue,getColumnsKey}from"/node_modules/rc-table/es/utils/valueUtil.js";import ResizeContext from"/node_modules/rc-table/es/context/ResizeContext.js";import useStickyOffsets from"/node_modules/rc-table/es/hooks/useStickyOffsets.js";import ColGroup from"/node_modules/rc-table/es/ColGroup.js";import{getExpandableProps,getDataAndAriaProps}from"/node_modules/rc-table/es/utils/legacyUtil.js";import Panel from"/node_modules/rc-table/es/Panel.js";import Footer,{FooterComponents}from"/node_modules/rc-table/es/Footer.js";import{findAllChildrenKeys,renderExpandIcon}from"/node_modules/rc-table/es/utils/expandUtil.js";import{getCellFixedInfo}from"/node_modules/rc-table/es/utils/fixUtil.js";import StickyScrollBar from"/node_modules/rc-table/es/stickyScrollBar.js";import useSticky from"/node_modules/rc-table/es/hooks/useSticky.js";var EMPTY_DATA=[],EMPTY_SCROLL_TARGET={};export var INTERNAL_HOOKS="rc-table-internal-hook";var MemoTableContent=React.memo(function(_ref){var children=_ref.children;return children},function(prev,next){return!!shallowEqual(prev.props,next.props)&&(prev.pingLeft!==next.pingLeft||prev.pingRight!==next.pingRight)});function Table(props){function forceScroll(scrollLeft,target){target&&("function"==typeof target?target(scrollLeft):target.scrollLeft!==scrollLeft&&(target.scrollLeft=scrollLeft))}var _classNames,prefixCls=props.prefixCls,className=props.className,rowClassName=props.rowClassName,style=props.style,data=props.data,rowKey=props.rowKey,scroll=props.scroll,tableLayout=props.tableLayout,direction=props.direction,title=props.title,footer=props.footer,summary=props.summary,id=props.id,showHeader=props.showHeader,components=props.components,emptyText=props.emptyText,onRow=props.onRow,onHeaderRow=props.onHeaderRow,internalHooks=props.internalHooks,transformColumns=props.transformColumns,internalRefs=props.internalRefs,sticky=props.sticky,mergedData=data||EMPTY_DATA,hasData=!!mergedData.length,_React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),scrollbarSize=_React$useState2[0],setScrollbarSize=_React$useState2[1];React.useEffect(function(){setScrollbarSize(getScrollBarSize())});var scrollXStyle,scrollYStyle,scrollTableStyle,mergedComponents=React.useMemo(function(){return mergeObject(components,{})},[components]),getComponent=React.useCallback(function(path,defaultComponent){return getPathValue(mergedComponents,path)||defaultComponent},[mergedComponents]),getRowKey=React.useMemo(function(){return"function"==typeof rowKey?rowKey:function(record){var key=record&&record[rowKey];return key}},[rowKey]),expandableConfig=getExpandableProps(props),expandIcon=expandableConfig.expandIcon,expandedRowKeys=expandableConfig.expandedRowKeys,defaultExpandedRowKeys=expandableConfig.defaultExpandedRowKeys,defaultExpandAllRows=expandableConfig.defaultExpandAllRows,expandedRowRender=expandableConfig.expandedRowRender,onExpand=expandableConfig.onExpand,onExpandedRowsChange=expandableConfig.onExpandedRowsChange,expandRowByClick=expandableConfig.expandRowByClick,rowExpandable=expandableConfig.rowExpandable,expandIconColumnIndex=expandableConfig.expandIconColumnIndex,expandedRowClassName=expandableConfig.expandedRowClassName,childrenColumnName=expandableConfig.childrenColumnName,indentSize=expandableConfig.indentSize,mergedExpandIcon=expandIcon||renderExpandIcon,mergedChildrenColumnName=childrenColumnName||"children",expandableType=React.useMemo(function(){return expandedRowRender?"row":!!(props.expandable&&internalHooks===INTERNAL_HOOKS&&props.expandable.__PARENT_RENDER_ICON__||mergedData.some(function(record){return record&&"object"===_typeof(record)&&record[mergedChildrenColumnName]}))&&"nest"},[!!expandedRowRender,mergedData]),_React$useState3=React.useState(function(){return defaultExpandedRowKeys?defaultExpandedRowKeys:defaultExpandAllRows?findAllChildrenKeys(mergedData,getRowKey,mergedChildrenColumnName):[]}),_React$useState4=_slicedToArray(_React$useState3,2),innerExpandedKeys=_React$useState4[0],setInnerExpandedKeys=_React$useState4[1],mergedExpandedKeys=React.useMemo(function(){return new Set(expandedRowKeys||innerExpandedKeys||[])},[expandedRowKeys,innerExpandedKeys]),onTriggerExpand=React.useCallback(function(record){var newExpandedKeys,key=getRowKey(record,mergedData.indexOf(record)),hasKey=mergedExpandedKeys.has(key);hasKey?(mergedExpandedKeys.delete(key),newExpandedKeys=_toConsumableArray(mergedExpandedKeys)):newExpandedKeys=[].concat(_toConsumableArray(mergedExpandedKeys),[key]),setInnerExpandedKeys(newExpandedKeys),onExpand&&onExpand(!hasKey,record),onExpandedRowsChange&&onExpandedRowsChange(newExpandedKeys)},[getRowKey,mergedExpandedKeys,mergedData,onExpand,onExpandedRowsChange]),_React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),componentWidth=_React$useState6[0],setComponentWidth=_React$useState6[1],_useColumns=useColumns(_objectSpread(_objectSpread(_objectSpread({},props),expandableConfig),{},{expandable:!!expandedRowRender,expandedKeys:mergedExpandedKeys,getRowKey:getRowKey,onTriggerExpand:onTriggerExpand,expandIcon:mergedExpandIcon,expandIconColumnIndex:expandIconColumnIndex,direction:direction}),internalHooks===INTERNAL_HOOKS?transformColumns:null),_useColumns2=_slicedToArray(_useColumns,2),columns=_useColumns2[0],flattenColumns=_useColumns2[1],columnContext=React.useMemo(function(){return{columns:columns,flattenColumns:flattenColumns}},[columns,flattenColumns]),fullTableRef=React.useRef(),scrollHeaderRef=React.useRef(),scrollBodyRef=React.useRef(),_React$useState7=React.useState(!1),_React$useState8=_slicedToArray(_React$useState7,2),pingedLeft=_React$useState8[0],setPingedLeft=_React$useState8[1],_React$useState9=React.useState(!1),_React$useState10=_slicedToArray(_React$useState9,2),pingedRight=_React$useState10[0],setPingedRight=_React$useState10[1],_useLayoutState=useLayoutState(new Map),_useLayoutState2=_slicedToArray(_useLayoutState,2),colsWidths=_useLayoutState2[0],updateColsWidths=_useLayoutState2[1],colsKeys=getColumnsKey(flattenColumns),pureColWidths=colsKeys.map(function(columnKey){return colsWidths.get(columnKey)}),colWidths=React.useMemo(function(){return pureColWidths},[pureColWidths.join("_")]),stickyOffsets=useStickyOffsets(colWidths,flattenColumns.length,direction),fixHeader=scroll&&validateValue(scroll.y),horizonScroll=scroll&&validateValue(scroll.x),fixColumn=horizonScroll&&flattenColumns.some(function(_ref2){var fixed=_ref2.fixed;return fixed}),stickyRef=React.useRef(),_useSticky=useSticky(sticky,prefixCls),isSticky=_useSticky.isSticky,offsetHeader=_useSticky.offsetHeader,offsetScroll=_useSticky.offsetScroll,stickyClassName=_useSticky.stickyClassName,container=_useSticky.container;fixHeader&&(scrollYStyle={overflowY:"scroll",maxHeight:scroll.y}),horizonScroll&&(scrollXStyle={overflowX:"auto"},!fixHeader&&(scrollYStyle={overflowY:"hidden"}),scrollTableStyle={width:!0===scroll.x?"auto":scroll.x,minWidth:"100%"});var onColumnResize=React.useCallback(function(columnKey,width){isVisible(fullTableRef.current)&&updateColsWidths(function(widths){if(widths.get(columnKey)!==width){var newWidths=new Map(widths);return newWidths.set(columnKey,width),newWidths}return widths})},[]),_useTimeoutLock=useTimeoutLock(null),_useTimeoutLock2=_slicedToArray(_useTimeoutLock,2),setScrollTarget=_useTimeoutLock2[0],getScrollTarget=_useTimeoutLock2[1],onScroll=function onScroll(_ref3){var currentTarget=_ref3.currentTarget,scrollLeft=_ref3.scrollLeft,mergedScrollLeft="number"==typeof scrollLeft?scrollLeft:currentTarget.scrollLeft,compareTarget=currentTarget||EMPTY_SCROLL_TARGET;if(!getScrollTarget()||getScrollTarget()===compareTarget){var _stickyRef$current;setScrollTarget(compareTarget),forceScroll(mergedScrollLeft,scrollHeaderRef.current),forceScroll(mergedScrollLeft,scrollBodyRef.current),forceScroll(mergedScrollLeft,null===(_stickyRef$current=stickyRef.current)||void 0===_stickyRef$current?void 0:_stickyRef$current.setScrollLeft)}if(currentTarget){var scrollWidth=currentTarget.scrollWidth,clientWidth=currentTarget.clientWidth;"rtl"===direction?(setPingedLeft(-mergedScrollLeft<scrollWidth-clientWidth),setPingedRight(0<-mergedScrollLeft)):(setPingedLeft(0<mergedScrollLeft),setPingedRight(mergedScrollLeft<scrollWidth-clientWidth))}},triggerOnScroll=function triggerOnScroll(){scrollBodyRef.current&&onScroll({currentTarget:scrollBodyRef.current})},onFullTableResize=function onFullTableResize(_ref4){var width=_ref4.width;triggerOnScroll(),setComponentWidth(fullTableRef.current?fullTableRef.current.offsetWidth:width)};React.useEffect(function(){return triggerOnScroll},[]),React.useEffect(function(){horizonScroll&&triggerOnScroll()},[horizonScroll]),React.useEffect(function(){internalHooks===INTERNAL_HOOKS&&internalRefs&&(internalRefs.body.current=scrollBodyRef.current)});var groupTableNode,TableComponent=getComponent(["table"],"table"),mergedTableLayout=React.useMemo(function(){return tableLayout?tableLayout:fixColumn?"max-content"===scroll.x?"auto":"fixed":fixHeader||isSticky||flattenColumns.some(function(_ref5){var ellipsis=_ref5.ellipsis;return ellipsis})?"fixed":"auto"},[fixHeader,fixColumn,flattenColumns,tableLayout,isSticky]),headerProps={colWidths:colWidths,columCount:flattenColumns.length,stickyOffsets:stickyOffsets,onHeaderRow:onHeaderRow,fixHeader:fixHeader},emptyNode=React.useMemo(function(){return hasData?null:"function"==typeof emptyText?emptyText():emptyText},[hasData,emptyText]),bodyTable=React.createElement(Body,{data:mergedData,measureColumnWidth:fixHeader||horizonScroll||isSticky,expandedKeys:mergedExpandedKeys,rowExpandable:rowExpandable,getRowKey:getRowKey,onRow:onRow,emptyNode:emptyNode,childrenColumnName:mergedChildrenColumnName}),bodyColGroup=React.createElement(ColGroup,{colWidths:flattenColumns.map(function(_ref6){var width=_ref6.width;return width}),columns:flattenColumns}),footerTable=summary&&React.createElement(Footer,null,summary(mergedData)),customizeScrollBody=getComponent(["body"]);if(fixHeader||isSticky){var bodyContent;"function"==typeof customizeScrollBody?(bodyContent=customizeScrollBody(mergedData,{scrollbarSize:scrollbarSize,ref:scrollBodyRef,onScroll:onScroll}),headerProps.colWidths=flattenColumns.map(function(_ref7,index){var width=_ref7.width,colWidth=index===columns.length-1?width-scrollbarSize:width;return"number"!=typeof colWidth||Number.isNaN(colWidth)?(warning(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):colWidth})):bodyContent=React.createElement("div",{style:_objectSpread(_objectSpread({},scrollXStyle),scrollYStyle),onScroll:onScroll,ref:scrollBodyRef,className:classNames("".concat(prefixCls,"-body"))},React.createElement(TableComponent,{style:_objectSpread(_objectSpread({},scrollTableStyle),{},{tableLayout:mergedTableLayout})},bodyColGroup,bodyTable,footerTable)),groupTableNode=React.createElement(React.Fragment,null,!1!==showHeader&&React.createElement(FixedHeader,_extends({noData:!mergedData.length},headerProps,columnContext,{direction:direction,offsetHeader:offsetHeader,stickyClassName:stickyClassName,ref:scrollHeaderRef,onScroll:onScroll})),bodyContent,isSticky&&React.createElement(StickyScrollBar,{ref:stickyRef,offsetScroll:offsetScroll,scrollBodyRef:scrollBodyRef,onScroll:onScroll,container:container}))}else groupTableNode=React.createElement("div",{style:_objectSpread(_objectSpread({},scrollXStyle),scrollYStyle),className:classNames("".concat(prefixCls,"-content")),onScroll:onScroll,ref:scrollBodyRef},React.createElement(TableComponent,{style:_objectSpread(_objectSpread({},scrollTableStyle),{},{tableLayout:mergedTableLayout})},bodyColGroup,!1!==showHeader&&React.createElement(Header,_extends({},headerProps,columnContext)),bodyTable,footerTable));var ariaProps=getDataAndAriaProps(props),fullTable=React.createElement("div",_extends({className:classNames(prefixCls,className,(_classNames={},_defineProperty(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_defineProperty(_classNames,"".concat(prefixCls,"-ping-left"),pingedLeft),_defineProperty(_classNames,"".concat(prefixCls,"-ping-right"),pingedRight),_defineProperty(_classNames,"".concat(prefixCls,"-layout-fixed"),"fixed"===tableLayout),_defineProperty(_classNames,"".concat(prefixCls,"-fixed-header"),fixHeader),_defineProperty(_classNames,"".concat(prefixCls,"-fixed-column"),fixColumn),_defineProperty(_classNames,"".concat(prefixCls,"-scroll-horizontal"),horizonScroll),_defineProperty(_classNames,"".concat(prefixCls,"-has-fix-left"),flattenColumns[0]&&flattenColumns[0].fixed),_defineProperty(_classNames,"".concat(prefixCls,"-has-fix-right"),flattenColumns[flattenColumns.length-1]&&"right"===flattenColumns[flattenColumns.length-1].fixed),_classNames)),style:style,id:id,ref:fullTableRef},ariaProps),React.createElement(MemoTableContent,{pingLeft:pingedLeft,pingRight:pingedRight,props:_objectSpread(_objectSpread({},props),{},{stickyOffsets:stickyOffsets,mergedExpandedKeys:mergedExpandedKeys})},title&&React.createElement(Panel,{className:"".concat(prefixCls,"-title")},title(mergedData)),React.createElement("div",{className:"".concat(prefixCls,"-container")},groupTableNode),footer&&React.createElement(Panel,{className:"".concat(prefixCls,"-footer")},footer(mergedData))));horizonScroll&&(fullTable=React.createElement(ResizeObserver,{onResize:onFullTableResize},fullTable));var TableContextValue=React.useMemo(function(){return{prefixCls:prefixCls,getComponent:getComponent,scrollbarSize:scrollbarSize,direction:direction,fixedInfoList:flattenColumns.map(function(_,colIndex){return getCellFixedInfo(colIndex,colIndex,flattenColumns,stickyOffsets,direction)}),isSticky:isSticky}},[prefixCls,getComponent,scrollbarSize,direction,flattenColumns,stickyOffsets,direction,isSticky]),BodyContextValue=React.useMemo(function(){return _objectSpread(_objectSpread({},columnContext),{},{tableLayout:mergedTableLayout,rowClassName:rowClassName,expandedRowClassName:expandedRowClassName,componentWidth:componentWidth,fixHeader:fixHeader,fixColumn:fixColumn,horizonScroll:horizonScroll,expandIcon:mergedExpandIcon,expandableType:expandableType,expandRowByClick:expandRowByClick,expandedRowRender:expandedRowRender,onTriggerExpand:onTriggerExpand,expandIconColumnIndex:expandIconColumnIndex,indentSize:indentSize})},[columnContext,mergedTableLayout,rowClassName,expandedRowClassName,componentWidth,fixHeader,fixColumn,horizonScroll,mergedExpandIcon,expandableType,expandRowByClick,expandedRowRender,onTriggerExpand,expandIconColumnIndex,indentSize]),ResizeContextValue=React.useMemo(function(){return{onColumnResize:onColumnResize}},[onColumnResize]);return React.createElement(TableContext.Provider,{value:TableContextValue},React.createElement(BodyContext.Provider,{value:BodyContextValue},React.createElement(ResizeContext.Provider,{value:ResizeContextValue},fullTable)))}Table.Column=Column,Table.ColumnGroup=ColumnGroup,Table.Summary=FooterComponents,Table.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function emptyText(){return"No Data"}};export default Table;