import"/node_modules/core-js/modules/es.array.reduce.js";import React from"c:\\node_modules\\react\\index.js";import HeaderRow from"/node_modules/rc-table/es/Header/HeaderRow.js";import TableContext from"/node_modules/rc-table/es/context/TableContext.js";function parseHeaderRows(rootColumns){function fillRowCells(columns,colIndex){var rowIndex=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;rows[rowIndex]=rows[rowIndex]||[];var currentColIndex=colIndex,colSpans=columns.filter(Boolean).map(function(column){var cell={key:column.key,className:column.className||"",children:column.title,column:column,colStart:currentColIndex},colSpan=1,subColumns=column.children;return subColumns&&0<subColumns.length&&(colSpan=fillRowCells(subColumns,currentColIndex,rowIndex+1).reduce(function(total,count){return total+count},0),cell.hasSubColumns=!0),"colSpan"in column&&(colSpan=column.colSpan),"rowSpan"in column&&(cell.rowSpan=column.rowSpan),cell.colSpan=colSpan,cell.colEnd=cell.colStart+colSpan-1,rows[rowIndex].push(cell),currentColIndex+=colSpan,colSpan});return colSpans}var rows=[];fillRowCells(rootColumns,0);for(var rowCount=rows.length,_loop=function _loop(rowIndex){rows[rowIndex].forEach(function(cell){("rowSpan"in cell)||cell.hasSubColumns||(cell.rowSpan=rowCount-rowIndex)})},rowIndex=0;rowIndex<rowCount;rowIndex+=1)_loop(rowIndex);return rows}function Header(_ref){var stickyOffsets=_ref.stickyOffsets,columns=_ref.columns,flattenColumns=_ref.flattenColumns,onHeaderRow=_ref.onHeaderRow,_React$useContext=React.useContext(TableContext),prefixCls=_React$useContext.prefixCls,getComponent=_React$useContext.getComponent,rows=React.useMemo(function(){return parseHeaderRows(columns)},[columns]),WrapperComponent=getComponent(["header","wrapper"],"thead"),trComponent=getComponent(["header","row"],"tr"),thComponent=getComponent(["header","cell"],"th");return React.createElement(WrapperComponent,{className:"".concat(prefixCls,"-thead")},rows.map(function(row,rowIndex){var rowNode=React.createElement(HeaderRow,{key:rowIndex,flattenColumns:flattenColumns,cells:row,stickyOffsets:stickyOffsets,rowComponent:trComponent,cellComponent:thComponent,onHeaderRow:onHeaderRow,index:rowIndex});return rowNode}))}export default Header;