import _slicedToArray from"/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";import{useRef,useState,useEffect}from"c:\\node_modules\\react\\index.js";import raf from"/node_modules/rc-util/es/raf.js";export default function useRaf(callback){var rafRef=useRef(),removedRef=useRef(!1);return useEffect(function(){return function(){removedRef.current=!0,raf.cancel(rafRef.current)}},[]),function trigger(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];removedRef.current||(raf.cancel(rafRef.current),rafRef.current=raf(function(){callback.apply(void 0,args)}))}}export function useRafState(defaultState){var batchRef=useRef([]),_useState=useState({}),_useState2=_slicedToArray(_useState,2),forceUpdate=_useState2[1],state=useRef("function"==typeof defaultState?defaultState():defaultState),flushUpdate=useRaf(function(){var current=state.current;batchRef.current.forEach(function(callback){current=callback(current)}),batchRef.current=[],state.current=current,forceUpdate({})});return[state.current,function updater(callback){batchRef.current.push(callback),flushUpdate()}]}