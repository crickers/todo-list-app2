import React from"c:\\node_modules\\react\\index.js";import{useRef}from"c:\\node_modules\\react\\index.js";import{animationEndName,transitionEndName}from"/node_modules/rc-motion/es/util/motion.js";export default(function(callback){function removeMotionEvents(element){element&&(element.removeEventListener(transitionEndName,onInternalMotionEnd),element.removeEventListener(animationEndName,onInternalMotionEnd))}var cacheElementRef=useRef(),callbackRef=useRef(callback);callbackRef.current=callback;var onInternalMotionEnd=React.useCallback(function(event){callbackRef.current(event)},[]);return React.useEffect(function(){return function(){removeMotionEvents(cacheElementRef.current)}},[]),[function patchMotionEvents(element){cacheElementRef.current&&cacheElementRef.current!==element&&removeMotionEvents(cacheElementRef.current),element&&element!==cacheElementRef.current&&(element.addEventListener(transitionEndName,onInternalMotionEnd),element.addEventListener(animationEndName,onInternalMotionEnd),cacheElementRef.current=element)},removeMotionEvents]});